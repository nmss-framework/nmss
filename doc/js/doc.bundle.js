!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\doc.js":[function(e,t){e("./elements.js");t.exports=function(e){"use strict";function t(e){console.log("dragStart"),console.log(e),e.dataTransfer.setData("element",e.target.id)}function n(e){return console.log("dragEnter"),e.preventDefault(),!0}function r(e){console.log("dragOver"),e.preventDefault()}function i(t){console.log("dragDrop");var n=t.dataTransfer.getData("element");return t.target.value+=e[n].template,t.stopPropagation(),!1}return{dragStart:t,dragEnter:n,dragOver:r,dragDrop:i}},document.addEventListener("DOMContentLoaded",function(t,n){function r(){a.contentWindow.document.open(),a.contentWindow.document.write('<!DOCTYPE html><html><head><title>My dynamic document</title><link rel="stylesheet" href="css/nmss.css"><link rel="stylesheet" href="css/doc.css"></head><body class="wrapper-preview"><div class="content-preview">'+o.value.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"")+"</div></body></html>"),a.contentWindow.document.close()}var i=e("./vendor/emmet.min.js"),n=e("rest"),o=document.querySelector("#section-code"),a=document.querySelector("#section-preview");n("style.html").then(function(e){console.log(e),o.value=e.entity}),i.require("textarea").setup({pretty_break:!0,use_tab:!0}),setInterval(r,1e3)})},{"./elements.js":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\elements.js","./vendor/emmet.min.js":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\vendor\\emmet.min.js",rest:"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\browser.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\elements.js":[function(e,t){t.exports={button:{template:'<button class="button">This is a button</button>'},input:{template:'<input type="text" class="input" placeholder="input">'},grid:{template:'<div class="g"></div>'},"grid-item":{template:'<div class="g-u"></div>'}}},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\vendor\\emmet.min.js":[function(e,t,n){var r=function(){function e(t,n,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&_.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&_.isFunction(n.isEqual))return n.isEqual(t);var i=l.call(t);if(i!=l.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=r.length;o--;)if(r[o]==t)return!0;r.push(t);var o=0,a=!0;if("[object Array]"==i){if(o=t.length,a=o==n.length)for(;o--&&(a=o in t==o in n&&e(t[o],n[o],r)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var s in t)if(_.has(t,s)&&(o++,!(a=_.has(n,s)&&e(t[s],n[s],r))))break;if(a){for(s in n)if(_.has(n,s)&&!o--)break;a=!o}}return r.pop(),a}var r=this,i=r._,o={},a=Array.prototype,s=Object.prototype,u=a.slice,c=a.unshift,l=s.toString,f=s.hasOwnProperty,d=a.forEach,p=a.map,h=a.reduce,m=a.reduceRight,g=a.filter,b=a.every,v=a.some,y=a.indexOf,x=a.lastIndexOf,s=Array.isArray,w=Object.keys,k=Function.prototype.bind,_=function(e){return new z(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=_),n._=_):r._=_,_.VERSION="1.3.3";var C=_.each=_.forEach=function(e,t,n){if(null!=e)if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;i>r&&!(r in e&&t.call(n,e[r],r,e)===o);r++);else for(r in e)if(_.has(e,r)&&t.call(n,e[r],r,e)===o)break};_.map=_.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(C(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),e.length===+e.length&&(r.length=e.length),r)},_.reduce=_.foldl=_.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=_.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(C(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},_.reduceRight=_.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=_.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=_.toArray(e).reverse();return r&&!i&&(t=_.bind(t,r)),i?_.reduce(o,t,n,r):_.reduce(o,t)},_.find=_.detect=function(e,t,n){var r;return S(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},_.filter=_.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(C(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},_.reject=function(e,t,n){var r=[];return null==e?r:(C(e,function(e,i,o){t.call(n,e,i,o)||(r[r.length]=e)}),r)},_.every=_.all=function(e,t,n){var r=!0;return null==e?r:b&&e.every===b?e.every(t,n):(C(e,function(e,i,a){return(r=r&&t.call(n,e,i,a))?void 0:o}),!!r)};var S=_.some=_.any=function(e,t,n){t||(t=_.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,n):(C(e,function(e,i,a){return r||(r=t.call(n,e,i,a))?o:void 0}),!!r)};_.include=_.contains=function(e,t){var n=!1;return null==e?n:y&&e.indexOf===y?-1!=e.indexOf(t):n=S(e,function(e){return e===t})},_.invoke=function(e,t){var n=u.call(arguments,2);return _.map(e,function(e){return(_.isFunction(t)?t||e:e[t]).apply(e,n)})},_.pluck=function(e,t){return _.map(e,function(e){return e[t]})},_.max=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&_.isEmpty(e))return-1/0;var r={computed:-1/0};return C(e,function(e,i,o){i=t?t.call(n,e,i,o):e,i>=r.computed&&(r={value:e,computed:i})}),r.value},_.min=function(e,t,n){if(!t&&_.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&_.isEmpty(e))return 1/0;var r={computed:1/0};return C(e,function(e,i,o){i=t?t.call(n,e,i,o):e,i<r.computed&&(r={value:e,computed:i})}),r.value},_.shuffle=function(e){var t,n=[];return C(e,function(e,r){t=Math.floor(Math.random()*(r+1)),n[r]=n[t],n[t]=e}),n},_.sortBy=function(e,t,n){var r=_.isFunction(t)?t:function(e){return e[t]};return _.pluck(_.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return void 0===n?1:void 0===r?-1:r>n?-1:n>r?1:0}),"value")},_.groupBy=function(e,t){var n={},r=_.isFunction(t)?t:function(e){return e[t]};return C(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},_.sortedIndex=function(e,t,n){n||(n=_.identity);for(var r=0,i=e.length;i>r;){var o=r+i>>1;n(e[o])<n(t)?r=o+1:i=o}return r},_.toArray=function(e){return e?_.isArray(e)?u.call(e):_.isArguments(e)?u.call(e):e.toArray&&_.isFunction(e.toArray)?e.toArray():_.values(e):[]},_.size=function(e){return _.isArray(e)?e.length:_.keys(e).length},_.first=_.head=_.take=function(e,t,n){return null==t||n?e[0]:u.call(e,0,t)},_.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},_.last=function(e,t,n){return null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},_.rest=_.tail=function(e,t,n){return u.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,function(e){return!!e})},_.flatten=function(e,t){return _.reduce(e,function(e,n){return _.isArray(n)?e.concat(t?n:_.flatten(n)):(e[e.length]=n,e)},[])},_.without=function(e){return _.difference(e,u.call(arguments,1))},_.uniq=_.unique=function(e,t,n){var n=n?_.map(e,n):e,r=[];return e.length<3&&(t=!0),_.reduce(n,function(n,i,o){return(t?_.last(n)===i&&n.length:_.include(n,i))||(n.push(i),r.push(e[o])),n},[]),r},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=_.intersect=function(e){var t=u.call(arguments,1);return _.filter(_.uniq(e),function(e){return _.every(t,function(t){return _.indexOf(t,e)>=0})})},_.difference=function(e){var t=_.flatten(u.call(arguments,1),!0);return _.filter(e,function(e){return!_.include(t,e)})},_.zip=function(){for(var e=u.call(arguments),t=_.max(_.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=_.pluck(e,""+r);return n},_.indexOf=function(e,t,n){if(null==e)return-1;var r;if(n)return n=_.sortedIndex(e,t),e[n]===t?n:-1;if(y&&e.indexOf===y)return e.indexOf(t);for(n=0,r=e.length;r>n;n++)if(n in e&&e[n]===t)return n;return-1},_.lastIndexOf=function(e,t){if(null==e)return-1;if(x&&e.lastIndexOf===x)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},_.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0);for(var n=arguments[2]||1,r=Math.max(Math.ceil((t-e)/n),0),i=0,o=Array(r);r>i;)o[i++]=e,e+=n;return o};var $=function(){};_.bind=function(e,t){var n,r;if(e.bind===k&&k)return k.apply(e,u.call(arguments,1));if(!_.isFunction(e))throw new TypeError;return r=u.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(u.call(arguments)));$.prototype=e.prototype;var i=new $,o=e.apply(i,r.concat(u.call(arguments)));return Object(o)===o?o:i}},_.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=_.functions(e)),C(t,function(t){e[t]=_.bind(e[t],e)}),e},_.memoize=function(e,t){var n={};return t||(t=_.identity),function(){var r=t.apply(this,arguments);return _.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},_.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=function(e){return _.delay.apply(_,[e,1].concat(u.call(arguments,1)))},_.throttle=function(e,t){var n,r,i,o,a,s,u=_.debounce(function(){a=o=!1},t);return function(){n=this,r=arguments;return i||(i=setTimeout(function(){i=null,a&&e.apply(n,r),u()},t)),o?a=!0:s=e.apply(n,r),u(),o=!0,s}},_.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments;n&&!r&&e.apply(i,o),clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,o)},t)}},_.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},_.wrap=function(e,t){return function(){var n=[e].concat(u.call(arguments,0));return t.apply(this,n)}},_.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},_.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},_.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t,n=[];for(t in e)_.has(e,t)&&(n[n.length]=t);return n},_.values=function(e){return _.map(e,_.identity)},_.functions=_.methods=function(e){var t,n=[];for(t in e)_.isFunction(e[t])&&n.push(t);return n.sort()},_.extend=function(e){return C(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},_.pick=function(e){var t={};return C(_.flatten(u.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},_.defaults=function(e){return C(u.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isEqual=function(t,n){return e(t,n,[])},_.isEmpty=function(e){if(null==e)return!0;if(_.isArray(e)||_.isString(e))return 0===e.length;for(var t in e)if(_.has(e,t))return!1;return!0},_.isElement=function(e){return!(!e||1!=e.nodeType)},_.isArray=s||function(e){return"[object Array]"==l.call(e)},_.isObject=function(e){return e===Object(e)},_.isArguments=function(e){return"[object Arguments]"==l.call(e)},_.isArguments(arguments)||(_.isArguments=function(e){return!(!e||!_.has(e,"callee"))}),_.isFunction=function(e){return"[object Function]"==l.call(e)},_.isString=function(e){return"[object String]"==l.call(e)},_.isNumber=function(e){return"[object Number]"==l.call(e)},_.isFinite=function(e){return _.isNumber(e)&&isFinite(e)},_.isNaN=function(e){return e!==e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},_.isDate=function(e){return"[object Date]"==l.call(e)},_.isRegExp=function(e){return"[object RegExp]"==l.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return f.call(e,t)},_.noConflict=function(){return r._=i,this},_.identity=function(e){return e},_.times=function(e,t,n){for(var r=0;e>r;r++)t.call(n,r)},_.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},_.result=function(e,t){if(null==e)return null;var n=e[t];return _.isFunction(n)?n.call(e):n},_.mixin=function(e){C(_.functions(e),function(t){N(t,_[t]=e[t])})};var j=0;_.uniqueId=function(e){var t=j++;return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T,A=/.^/,P={"\\":"\\","'":"'",r:"\r",n:"\n",t:"   ",u2028:"\u2028",u2029:"\u2029"};for(T in P)P[P[T]]=T;var U=/\\|'|\r|\n|\t|\u2028|\u2029/g,R=/\\(\\|'|r|n|t|u2028|u2029)/g,E=function(e){return e.replace(R,function(e,t){return P[t]})};_.template=function(e,t,n){n=_.defaults(n||{},_.templateSettings),e="__p+='"+e.replace(U,function(e){return"\\"+P[e]}).replace(n.escape||A,function(e,t){return"'+\n_.escape("+E(t)+")+\n'"}).replace(n.interpolate||A,function(e,t){return"'+\n("+E(t)+")+\n'"}).replace(n.evaluate||A,function(e,t){return"';\n"+E(t)+"\n;__p+='"})+"';\n",n.variable||(e="with(obj||{}){\n"+e+"}\n");var e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n",r=new Function(n.variable||"obj","_",e);return t?r(t,_):(t=function(e){return r.call(this,e,_)},t.source="function("+(n.variable||"obj")+"){\n"+e+"}",t)},_.chain=function(e){return _(e).chain()};var z=function(e){this._wrapped=e};_.prototype=z.prototype;var L=function(e,t){return t?_(e).chain():e},N=function(e,t){z.prototype[e]=function(){var e=u.call(arguments);return c.call(e,this._wrapped),L(t.apply(_,e),this._chain)}};return _.mixin(_),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];z.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return("shift"==e||"splice"==e)&&0===r&&delete n[0],L(n,this._chain)}}),C(["concat","join","slice"],function(e){var t=a[e];z.prototype[e]=function(){return L(t.apply(this._wrapped,arguments),this._chain)}}),z.prototype.chain=function(){return this._chain=!0,this},z.prototype.value=function(){return this._wrapped},_}.call({}),i=function(e){function t(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},r.extend(i,e),a.prototype=e.prototype,i.prototype=new a,t&&r.extend(i.prototype,t),n&&r.extend(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i}function n(e){return!(e in o)&&s&&s(e),o[e]}if("undefined"==typeof r)try{r=e.require("underscore")}catch(i){}if("undefined"==typeof r)throw"Cannot access to Underscore.js lib";var o={_:r},a=function(){},s=null;return{define:function(e,t){e in o||(o[e]=r.isFunction(t)?this.exec(t):t)},require:n,exec:function(t,i){return t.call(i||e,r.bind(n,this),r,this)},extend:function(e,n){var r=t(this,e,n);return r.extend=this.extend,e.hasOwnProperty("toString")&&(r.prototype.toString=e.toString),r},expandAbbreviation:function(e,t,r,i){if(!e)return"";var t=t||"html",o=n("filters"),a=n("abbreviationParser"),r=n("profile").get(r,t);return n("tabStops").resetTabstopIndex(),e=o.extractFromAbbreviation(e),i=a.parse(e[0],{syntax:t,contextNode:i}),t=o.composeList(t,r,e[1]),o.apply(i,t,r),i.toString()},defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},log:function(){e.console&&e.console.log&&e.console.log.apply(e.console,arguments)},setModuleLoader:function(e){s=e}}}(this);"undefined"!=typeof n&&("undefined"!=typeof t&&t.exports&&(n=t.exports=i),n.emmet=i),"undefined"!=typeof define&&define(i),i.define("abbreviationParser",function(e,t){function n(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.padding=this.content=this.end=this.start=""}function r(e){return e.substring(1,e.length-1)}function i(o){for(var a,s,o=e("utils").trim(o),u=new n,c=u.addChild(),l=e("stringStream").create(o),o=1e3;!l.eol()&&--o>0;)switch(a=l.peek()){case"(":if(l.start=l.pos,!l.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+l.pos;a=i(r(l.current())),(s=l.match(/^\*(\d+)?/,!0))&&c._setRepeat(s[1]),t.each(a.children,function(e){c.addChild(e)});break;case">":c=c.addChild(),l.next();break;case"+":c=c.parent.addChild(),l.next();break;case"^":a=c.parent||c,c=(a.parent||a).addChild(),l.next();break;default:l.start=l.pos,l.eatWhile(function(e){if("["==e||"{"==e){if(l.skipToPair(e,h[e]))return l.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+h[e]+'" found for character at '+l.pos}return"+"==e?(l.next(),e=l.eol()||~"+>^*".indexOf(l.peek()),l.backUp(1),e):"("!=e&&f(e)}),c.setAbbreviation(l.current()),l.start=l.pos}if(1>o)throw"Endless loop detected";return u}function o(t){var t=e("utils").trim(t),n=[],t=e("stringStream").create(t);for(t.eatSpace();!t.eol()&&(t.start=t.pos,t.eatWhile(p));){var r=t.current(),i="";if("="==t.peek()){t.next(),t.start=t.pos;var o=t.peek();if('"'==o||"'"==o){t.next();e:{for(var i=t,a=void 0;a=i.next();)if(a===o){i=!0;break e}i=!1}if(!i)throw"Invalid attribute value";i=t.current(),i=i.substring(1,i.length-1)}else{if(!t.eatWhile(/[^\s\]]/))throw"Invalid attribute value";i=t.current()}}n.push({name:r,value:i}),t.eatSpace()}return n}function a(t){for(var n=[],i={"#":"id",".":"class"},a=null,u=e("stringStream").create(t);!u.eol();)switch(u.peek()){case"#":case".":null===a&&(a=u.pos);var c=i[u.peek()];u.next(),u.start=u.pos,u.eatWhile(p),n.push({name:c,value:u.current()});break;case"[":if(null===a&&(a=u.pos),u.start=u.pos,!u.skipToPair("[","]"))throw"Invalid attribute set definition";n=n.concat(o(r(u.current())));break;default:u.next()}return n.length?{element:t.substring(0,a),attributes:s(n)}:null}function s(e){var e=t.map(e,function(e){return t.clone(e)}),n={};return t.filter(e,function(e){if(!(e.name in n))return n[e.name]=e;var t=n[e.name];return"class"==e.name.toLowerCase()?t.value+=(t.value.length?" ":"")+e.value:t.value=e.value,!1})}function u(t){if(!~t.indexOf("{"))return null;for(var n=e("stringStream").create(t);!n.eol();)switch(n.peek()){case"[":case"(":n.skipToPair(n.peek(),h[n.peek()]);break;case"{":return n.start=n.pos,n.skipToPair("{","}"),{element:t.substring(0,n.start),text:r(n.current())};default:n.next()}}function c(e){for(var n,r,i,o=e.children.length-1;o>=0;o--)if(r=e.children[o],r.isRepeating())for(i=n=r.repeatCount,r.repeatCount=1,r.updateProperty("counter",1),r.updateProperty("maxCount",i);--n>0;)r.parent.addChild(r.clone(),o+1).updateProperty("counter",n+1).updateProperty("maxCount",i);return t.each(e.children,c),e}function l(e){for(var n=e.children.length-1;n>=0;n--){var r=e.children[n];r.isGroup()?r.replace(l(r).children):r.isEmpty()&&r.remove()}return t.each(e.children,l),e}function f(e){var t=e.charCodeAt(0);return t>64&&91>t||t>96&&123>t||t>47&&58>t||-1!="#.*:$-_!@|%".indexOf(e)}var d=/^[\w\-\$\:@\!%]+\+?$/i,p=/[\w\-:\$@]/,h={"[":"]","(":")","{":"}"},m=Array.prototype.splice,g=[],b=[],v=[];return n.prototype={addChild:function(e,r){return e=e||new n,e.parent=this,t.isUndefined(r)?this.children.push(e):this.children.splice(r,0,e),e},clone:function(){var e=new n;return t.each(["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"],function(t){e[t]=this[t]},this),e._attributes=t.map(this._attributes,function(e){return t.clone(e)}),e._data=t.clone(this._data),e.children=t.map(this.children,function(t){return t=t.clone(),t.parent=e,t}),e},remove:function(){return this.parent&&(this.parent.children=t.without(this.parent.children,this)),this},replace:function(){var e=this.parent,n=t.indexOf(e.children,this),r=t.flatten(arguments);m.apply(e.children,[n,1].concat(r)),t.each(r,function(t){t.parent=e})},updateProperty:function(e,n){return this[e]=n,t.each(this.children,function(t){t.updateProperty(e,n)}),this},find:function(e){return this.findAll(e)[0]},findAll:function(e){if(!t.isFunction(e))var n=e.toLowerCase(),e=function(e){return e.name().toLowerCase()==n};var r=[];return t.each(this.children,function(t){e(t)&&r.push(t),r=r.concat(t.findAll(e))}),t.compact(r)},data:function(t,n){return 2==arguments.length&&(this._data[t]=n,"resource"==t&&e("elements").is(n,"snippet")&&(this.content=n.data,this._text))&&(this.content=e("abbreviationUtils").insertChildContent(n.data,this._text)),this._data[t]},name:function(){var t=this.matchedResource();return e("elements").is(t,"element")?t.name:this._name},attributeList:function(){var n=[],r=this.matchedResource();return e("elements").is(r,"element")&&t.isArray(r.attributes)&&(n=n.concat(r.attributes)),s(n.concat(this._attributes))},attribute:function(e,n){if(2==arguments.length){var r=t.indexOf(t.pluck(this._attributes,"name"),e.toLowerCase());~r?this._attributes[r].value=n:this._attributes.push({name:e,value:n})}return(t.find(this.attributeList(),function(t){return t.name==e})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?t.indexOf(this.parent.children,this):-1},_setRepeat:function(e){e?this.repeatCount=parseInt(e,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(e){var t=this;this.abbreviation=e=(e||"").replace(/\*(\d+)?$/,function(e,n){return t._setRepeat(n),""});var n=u(e);if(n&&(e=n.element,this.content=this._text=n.text),(n=a(e))&&(e=n.element,this._attributes=n.attributes),(this._name=e)&&!d.test(this._name))throw"Invalid abbreviation"},toString:function(){var n=e("utils"),r=this.start,i=this.end,o=this.content,a=this;t.each(v,function(e){r=e(r,a,"start"),o=e(o,a,"content"),i=e(i,a,"end")});var s=t.map(this.children,function(e){return e.toString()}).join(""),o=e("abbreviationUtils").insertChildContent(o,s,{keepVariable:!1});return r+n.padString(o,this.padding)+i},hasEmptyChildren:function(){return!!t.find(this.children,function(e){return e.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var e=this;e.children.length;)e=t.last(e.children);return e}},v.push(function(t,n){return e("utils").replaceCounter(t,n.counter,n.maxCount)}),{parse:function(e,n){var n=n||{},r=i(e);if(n.contextNode){r._name=n.contextNode.name;var o={};t.each(r._attributes,function(e){o[e.name]=e}),t.each(n.contextNode.attributes,function(e){e.name in o?o[e.name].value=e.value:(e=t.clone(e),r._attributes.push(e),o[e.name]=e)})}return t.each(g,function(e){e(r,n)}),r=l(c(r)),t.each(b,function(e){e(r,n)}),r},AbbreviationNode:n,addPreprocessor:function(e){t.include(g,e)||g.push(e)},removeFilter:function(e){preprocessor=t.without(g,e)},addPostprocessor:function(e){t.include(b,e)||b.push(e)},removePostprocessor:function(e){b=t.without(b,e)},addOutputProcessor:function(e){t.include(v,e)||v.push(e)},removeOutputProcessor:function(e){v=t.without(v,e)},isAllowedChar:function(e){return e=String(e),f(e)||~">+^[](){}".indexOf(e)}}}),i.exec(function(e,t){function n(r,i){var o=e("resources"),a=e("elements"),s=e("abbreviationParser");t.each(t.clone(r.children),function(e){var r=o.getMatchedResource(e,i);if(t.isString(r))e.data("resource",a.create("snippet",r));else if(a.is(r,"reference")){if(r=s.parse(r.data,{syntax:i}),e.repeatCount>1){var u=r.findAll(function(e){return e.hasImplicitRepeat});t.each(u,function(t){t.repeatCount=e.repeatCount,t.hasImplicitRepeat=!1})}var c=r.deepestChild();c&&t.each(e.children,function(e){c.addChild(e)}),t.each(r.children,function(n){t.each(e.attributeList(),function(e){n.attribute(e.name,e.value)})}),e.replace(r.children)}else e.data("resource",r);n(e,i)})}e("abbreviationParser").addPreprocessor(function(e,t){var r=t.syntax||i.defaultSyntax();n(e,r)})}),i.exec(function(e,t){function n(t){for(var n=e("range"),r=[],t=e("stringStream").create(t);!t.eol();){if("\\"==t.peek())t.next();else if(t.start=t.pos,t.match(s,!0)){r.push(n.create(t.start,s));continue}t.next()}return r}function r(r,i){var o=e("utils"),a=n(r);return a.reverse(),t.each(a,function(e){r=o.replaceSubstring(r,i,e)}),r}function i(e){return n(e.content).length?!0:!!t.find(e.attributeList(),function(e){return!!n(e.value).length})}function o(n,o,a){var s=n.findAll(function(e){return i(e)});i(n)&&s.unshift(n),s.length?t.each(s,function(e){e.content=r(e.content,o),t.each(e._attributes,function(e){e.value=r(e.value,o)})}):(n=n.deepestChild()||n,n.content=a?o:e("abbreviationUtils").insertChildContent(n.content,o))}var a=e("abbreviationParser"),s="$#";a.addPreprocessor(function(n,r){if(r.pastedContent){var i=e("utils"),o=t.map(i.splitByLines(r.pastedContent,!0),i.trim);n.findAll(function(e){return e.hasImplicitRepeat?(e.data("paste",o),e.repeatCount=o.length):void 0})}}),a.addPostprocessor(function(e,n){!e.findAll(function(e){var n=e.data("paste"),r="";return t.isArray(n)?r=n[e.counter-1]:t.isFunction(n)?r=n(e.counter-1,e.content):n&&(r=n),r&&o(e,r,!!e.data("pasteOverwrites")),e.data("paste",null),!!n}).length&&n.pastedContent&&o(e,n.pastedContent)})}),i.exec(function(e,t){function n(r){var i=e("tagName");return t.each(r.children,function(e){(e.hasImplicitName()||e.data("forceNameResolving"))&&(e._name=i.resolve(e.parent.name())),n(e)}),r}e("abbreviationParser").addPostprocessor(n)}),i.define("cssParser",function(e,t){function n(e){return"undefined"!=typeof e}function r(){return{"char":u.chnum,line:u.linenum}}function i(e,t,r){var i=u,r=r||{};d.push({charstart:n(r["char"])?r["char"]:i.chnum,charend:n(r.charend)?r.charend:i.chnum,linestart:n(r.line)?r.line:i.linenum,lineend:n(r.lineend)?r.lineend:i.linenum,value:e,type:t||e})}function o(e,t){var r=u,i=t||{},o=n(i["char"])?i["char"]:r.chnum,i=n(i.line)?i.line:r.linenum;return{name:"ParseError",message:e+" at line "+(i+1)+" char "+(o+1),walker:r,tokens:d}}function a(e){var t=u,n=t.ch,o=r(),a=e?e+n:n,n=t.nextChar();for(e&&(o["char"]-=e.length);l(n)||f(n);)a+=n,n=t.nextChar();i(a,"identifier",o)}function s(){var e=u.ch;if(" "===e||"  "===e){for(var t=u.ch,n="",s=r();" "===t||" "===t;)n+=t,t=u.nextChar();i(n,"white",s)}else{if("/"===e){var d,t=u,e=s=t.ch,p=r();if(d=t.nextChar(),"*"!==d)p.charend=p["char"],p.lineend=p.line,n=i(e,e,p);else{for(;"*"!==s||"/"!==d;)e+=d,s=d,d=t.nextChar();e+=d,t.nextChar(),i(e,"comment",p)}return n}if('"'===e||"'"===e){for(t=u,e=s=n=t.ch,p=r(),n=t.nextChar();n!==s;){if("\n"===n){if(d=t.nextChar(),"\\"!==d)throw o("Unterminated string",p);e+=n+d}else e+="\\"===n?n+t.nextChar():n;n=t.nextChar()}e+=n,t.nextChar(),i(e,"string",p)}else if("("===e){for(t=u,n=t.ch,s=0,e=n,d=r(),n=t.nextChar();")"!==n&&!s;){if("("===n)s++;else if(")"===n)s--;else if(n===!1)throw o("Unterminated brace",d);e+=n,n=t.nextChar()}e+=n,t.nextChar(),i(e,"brace",d)}else{if("-"===e||"."===e||f(e)){n=u,s=n.ch,e=r(),d=s;var h,p="."===d,s=n.nextChar();if(h=!f(s),p&&h)e.charend=e["char"],e.lineend=e.line,t=i(d,".",e);else if("-"===d&&h)t=a("-");else{for(;s!==!1&&(f(s)||!p&&"."===s);)"."===s&&(p=!0),d+=s,s=n.nextChar();i(d,"number",e)}return t}if(l(e))return a();if(c(e))return t=u,e=t.ch,n=r(),d=t.nextChar(),"="===d&&c(e,!0)?(e+=d,i(e,"match",n),t.nextChar(),s=void 0):(n.charend=n["char"]+1,n.lineend=n.line,i(e,e,n)),s;if("\n"!==e)throw o("Unrecognized character");i("line"),u.nextChar()}}}var u,c,l,f,d=[];return u={lines:null,total_lines:0,linenum:-1,line:"",ch:"",chnum:-1,init:function(e){var t=u;t.lines=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"),t.total_lines=t.lines.length,t.chnum=-1,t.linenum=-1,t.ch="",t.line="",t.nextLine(),t.nextChar()},nextLine:function(){return this.linenum+=1,this.line=this.total_lines<=this.linenum?!1:this.lines[this.linenum],-1!==this.chnum&&(this.chnum=0),this.line},nextChar:function(){for(this.chnum+=1;""===this.line.charAt(this.chnum);)return this.nextLine()===!1?this.ch=!1:(this.chnum=-1,this.ch="\n");return this.ch=this.line.charAt(this.chnum)},peek:function(){return this.line.charAt(this.chnum+1)}},l=function(e){return"&"==e||"_"===e||"-"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e},f=function(e){return e!==!1&&e>="0"&&"9">=e},c=function(){for(var e="{}[]()+*=.,;:>~|\\%$#@^!".split(""),t="*^|$~".split(""),n={},r={},i=0;i<e.length;i+=1)n[e[i]]=!0;for(i=0;i<t.length;i+=1)r[t[i]]=!0;return function(e,t){return t?!!r[e]:!!n[e]}}(),{lex:function(e){for(u.init(e),d=[];u.ch!==!1;)s();return d},parse:function(e){var n=0;return t.map(this.lex(e),function(t){return"line"==t.type&&(t.value="\r"==e.charAt(n)&&"\n"==e.charAt(n+1)?"\r\n":e.charAt(n)),{type:t.type,start:n,end:n+=t.value.length}})},toSource:function(e){for(var t,n=0,r=e.length,i="";r>n;n+=1)t=e[n],i+="line"===t.type?"\n":t.value;return i}}}),i.define("xmlParser",function(e){function t(e,t){function r(n){return t.tokenize=n,n(e,t)}var a=e.next();if("<"==a){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(i("atom","]]>")):null:e.match("--")?r(i("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=i("meta","?>"),"meta";for(w=e.eat("/")?"closeTag":"openTag",e.eatSpace(),x="";a=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=a;return t.tokenize=n,"tag"}return"&"==a?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),"text")}function n(e,n){var i=e.next();return">"==i||"/"==i&&e.eat(">")?(n.tokenize=t,w=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(w="equals",null):/[\'\"]/.test(i)?(n.tokenize=r(i),n.tokenize(e,n)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"}}function i(e,n){return function(r,i){for(;!r.eol();){if(r.match(n)){i.tokenize=t;break}r.next()}return e}}function o(e){return function(n,r){for(var i;null!=(i=n.next());){if("<"==i)return r.tokenize=o(e+1),r.tokenize(n,r);if(">"==i){if(1==e){r.tokenize=t;break}return r.tokenize=o(e-1),r.tokenize(n,r)}}return"meta"}}function a(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function s(){return a.apply(null,arguments),!0}function u(){k.context&&(k.context=k.context.prev)}function c(e){return"openTag"==e?(k.tagName=x,s(p,l(k.startOfLine))):"closeTag"==e?(e=!1,k.context?k.context.tagName!=x&&(y.implicitlyClosed.hasOwnProperty(k.context.tagName.toLowerCase())&&u(),e=!k.context||k.context.tagName!=x):e=!0,e&&(v="error"),s(f(e))):s()}function l(e){return function(t){if("selfcloseTag"==t||"endTag"==t&&y.autoSelfClosers.hasOwnProperty(k.tagName.toLowerCase()))return d(k.tagName.toLowerCase()),s();if("endTag"==t){d(k.tagName.toLowerCase());var t=k.tagName,n=y.doNotIndent.hasOwnProperty(t)||k.context&&k.context.noIndent;k.context={prev:k.context,tagName:t,indent:k.indented,startOfLine:e,noIndent:n}}return s()}}function f(e){return function(t){return e&&(v="error"),"endTag"==t?(u(),s()):(v="error",s(arguments.callee))}}function d(e){for(var t;k.context&&(t=k.context.tagName.toLowerCase(),y.contextGrabbers.hasOwnProperty(t)&&y.contextGrabbers[t].hasOwnProperty(e));)u()}function p(e){return"word"==e?(v="attribute",s(h,p)):"endTag"==e||"selfcloseTag"==e?a():(v="error",s(p))}function h(e){return"equals"==e?s(m,p):(y.allowMissing||(v="error"),"endTag"==e||"selfcloseTag"==e?a():s())
}function m(e){return"string"==e?s(g):"word"==e&&y.allowUnquoted?(v="string",s()):(v="error","endTag"==e||"selfCloseTag"==e?a():s())}function g(e){return"string"==e?s(g):a()}function b(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=0),e.eatSpace())return null;v=w=x=null;var n=t.tokenize(e,t);if(t.type=w,(n||w)&&"comment"!=n)for(k=t;!(t.cc.pop()||c)(w||n););return t.startOfLine=!1,v||n}var v,y={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},x=null,w=null,k=null;return{parse:function(n,r){for(var r=r||0,i={tokenize:t,cc:[],indented:0,startOfLine:!0,tagName:null,context:null},o=e("stringStream").create(n),a=[];!o.eol();)a.push({type:b(o,i),start:o.start+r,end:o.pos+r}),o.start=o.pos;return a}}}),i.define("string-score",function(){return{score:function(e,t,n){if(e==t)return 1;if(""==t)return 0;for(var r,i,o,a,s,u=0,c=t.length,l=e.length,f=1,d=0;c>d;++d){if(a=t.charAt(d),i=e.indexOf(a.toLowerCase()),o=e.indexOf(a.toUpperCase()),s=Math.min(i,o),o=s>-1?s:Math.max(i,o),-1===o){if(n){f+=1-n;continue}return 0}i=.1,e[o]===a&&(i+=.1),0===o?(i+=.6,0===d&&(r=1)):" "===e.charAt(o-1)&&(i+=.8),e=e.substring(o+1,l),u+=i}return e=u/c,c=(e*(c/l)+e)/2,c/=f,r&&1>c+.15&&(c+=.15),c}}}),i.define("utils",function(e,t){function n(e){this._data=[],this.length=0,e&&this.append(e)}var r="${0}";return n.prototype={append:function(e){this._data.push(e),this.length+=e.length},toString:function(){return this._data.join("")},valueOf:function(){return this.toString()}},{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e&&e>47&&58>e},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var n=e("resources");return n?(n=n.getVariable("newline"),t.isString(n)?n:"\n"):"\n"},setNewline:function(t){var n=e("resources");n.setVariable("newline",t),n.setVariable("nl",t)},splitByLines:function(e,n){var r=this.getNewline(),r=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,r).split(r);return n&&(r=t.filter(r,function(e){return e.length&&!!this.trim(e)},this)),r},normalizeNewline:function(e){return this.splitByLines(e).join(this.getNewline())},repeatString:function(e,t){for(var n=[],r=0;t>r;r++)n.push(e);return n.join("")},getStringsPads:function(e){var e=t.map(e,function(e){return t.isString(e)?e.length:+e}),n=t.max(e);return t.map(e,function(e){return(e=n-e)?this.repeatString(" ",e):""},this)},padString:function(n,r){var i=t.isNumber(r)?this.repeatString(e("resources").getVariable("indentation")||"    ",r):r,o=[],a=this.splitByLines(n),s=this.getNewline();o.push(a[0]);for(var u=1;u<a.length;u++)o.push(s+i+a[u]);return o.join("")},zeroPadString:function(e,t){for(var n="",r=e.length;t>r++;)n+="0";return n+e},unindentString:function(e,t){for(var n=this.splitByLines(e),r=0;r<n.length;r++)0==n[r].search(t)&&(n[r]=n[r].substr(t.length));return n.join(this.getNewline())},replaceUnescapedSymbol:function(e,n,r){for(var i=0,o=e.length,a=n.length,s=0;o>i;)if("\\"==e.charAt(i))i+=a+1;else if(e.substr(i,a)==n){var u=a;s++;var c=r;t.isFunction(r)&&((c=r(e,n,i,s))?(u=c[0].length,c=c[1]):c=!1),c===!1?i++:(e=e.substring(0,i)+c+e.substring(i+u),o=e.length,i+=c.length)}else i++;return e},replaceVariables:function(n,r){var r=r||{},i=t.isFunction(r)?r:function(e,t){return t in r?r[t]:null},o=e("resources");return e("tabStops").processText(n,{variable:function(e){var n=i(e.token,e.name,e);return null===n&&(n=o.getVariable(e.name)),(null===n||t.isUndefined(n))&&(n=e.token),n}})},replaceCounter:function(e,n,r){e=String(e),n=String(n),/^\-?\d+$/.test(n)&&(n=+n);var i=this;return this.replaceUnescapedSymbol(e,"$",function(e,o,a){if("{"==e.charAt(a+1)||i.isNumeric(e.charAt(a+1)))return!1;for(o=a+1;"$"==e.charAt(o)&&"{"!=e.charAt(o+1);)o++;var s,u=o-a,c=0,l=!1;return(s=e.substr(o).match(/^@(\-?)(\d*)/))&&(o+=s[0].length,s[1]&&(l=!0),c=parseInt(s[2]||1)-1),l&&r&&t.isNumber(n)&&(n=r-n+1),n+=c,[e.substring(a,o),i.zeroPadString(n+"",u)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return t.isFunction(r)?r.apply(this,arguments):r},setCaretPlaceholder:function(e){r=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,t){return this.getLinePadding(this.findNewlineBounds(e,t).substring(e))},escapeForRegexp:function(e){return e.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")},prettifyNumber:function(e,t){return e.toFixed("undefined"==typeof t?2:t).replace(/\.?0+$/,"")},stringBuilder:function(e){return new n(e)},replaceSubstring:function(e,n,r,i){return t.isObject(r)&&"end"in r&&(i=r.end,r=r.start),t.isString(i)&&(i=r+i.length),t.isUndefined(i)&&(i=r),0>r||r>e.length?e:e.substring(0,r)+n+e.substring(i)},narrowToNonSpace:function(t,n,r){for(n=e("range").create(n,r),r=/[\s\n\r\u00a0]/;n.start<n.end&&r.test(t.charAt(n.start));)n.start++;for(;n.end>n.start;)if(n.end--,!r.test(t.charAt(n.end))){n.end++;break}return n},findNewlineBounds:function(t,n){for(var r=t.length,i=0,o=r-1,a=n-1;a>0;a--){var s=t.charAt(a);if("\n"==s||"\r"==s){i=a+1;break}}for(a=n;r>a;a++)if(s=t.charAt(a),"\n"==s||"\r"==s){o=a;break}return e("range").create(i,o-i)},deepMerge:function(){var e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length;for(!t.isObject(a)&&!t.isFunction(a)&&(a={});u>s;s++)if(null!=(e=arguments[s]))for(n in e)r=a[n],i=e[n],a!==i&&(i&&(t.isObject(i)||(o=t.isArray(i)))?(o?(o=!1,r=r&&t.isArray(r)?r:[]):r=r&&t.isObject(r)?r:{},a[n]=this.deepMerge(r,i)):void 0!==i&&(a[n]=i));return a}}}),i.define("range",function(e,t){function n(e,t,n){switch(n){case"eq":case"==":return e===t;case"lt":case"<":return t>e;case"lte":case"<=":return t>=e;case"gt":case">":return e>t;case"gte":case">=":return e>=t}}function r(e,n){t.isObject(e)&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):t.isArray(e)?(this.start=e[0],this.end=e[1]):(n=t.isString(n)?n.length:+n,this.start=e,this.end=e+n)}return r.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(e){return this.cmp(e,"eq","eq")},shift:function(e){return this.start+=e,this.end+=e,this},overlap:function(e){return e.start<=this.end&&e.end>=this.start},intersection:function(e){if(this.overlap(e)){var t=Math.max(e.start,this.start);return new r(t,Math.min(e.end,this.end)-t)}return null},union:function(e){if(this.overlap(e)){var t=Math.min(e.start,this.start);return new r(t,Math.max(e.end,this.end)-t)}return null},inside:function(e){return this.cmp(e,"lte","gt")},contains:function(e){return this.cmp(e,"lt","gt")},include:function(){return this.cmp(loc,"lte","gte")},cmp:function(e,t,i){var o;return e instanceof r?(o=e.start,e=e.end):o=e,n(this.start,o,t||"<=")&&n(this.end,e,i||">")},substring:function(e){return this.length()>0?e.substring(this.start,this.end):""},clone:function(){return new r(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return"{"+this.start+", "+this.length()+"}"}},{create:function(e,n){return t.isUndefined(e)||null===e?null:e instanceof r?e:(t.isObject(e)&&"start"in e&&"end"in e&&(n=e.end-e.start,e=e.start),new r(e,n))},create2:function(e,n){return t.isNumber(e)&&t.isNumber(n)&&(n-=e),this.create(e,n)}}}),i.define("handlerList",function(e,t){function n(){this._list=[]}return n.prototype={add:function(e,n){this._list.push(t.extend({order:0},n||{},{fn:e}))},remove:function(e){this._list=t.without(this._list,t.find(this._list,function(t){return t.fn===e}))},list:function(){return t.sortBy(this._list,"order").reverse()},listFn:function(){return t.pluck(this.list(),"fn")},exec:function(e,n){var n=n||[],r=null;return t.find(this.list(),function(t){return r=t.fn.apply(t,n),r!==e?!0:void 0}),r}},{create:function(){return new n}}}),i.define("tokenIterator",function(e,t){function n(e){this.tokens=e,this._position=0,this.reset()}return n.prototype={next:function(){if(this.hasNext()){var e=this.tokens[++this._i];return this._position=e.start,e}return null},current:function(){return this.tokens[this._i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=-1,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,n){for(var r,i=t.isString(e)?function(t){return t.type==e}:e;(r=this.next())&&(n&&n.call(this,r),!i.call(this,r)););}},{create:function(e){return new n(e)}}}),i.define("stringStream",function(){function e(e){this.pos=this.start=0,this.string=e}return e.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);return("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){return e=this.string.indexOf(e,this.pos),e>-1?(this.pos=e,!0):void 0},skipToPair:function(e,t){for(var n,r=0,i=this.pos,o=this.string.length;o>i;)if(n=this.string.charAt(i++),n==e)r++;else if(n==t&&(r--,1>r))return this.pos=i,!0;return!1},backUp:function(e){this.pos-=e},match:function(e,t,n){return"string"!=typeof e?((e=this.string.slice(this.pos).match(e))&&t!==!1&&(this.pos+=e[0].length),e):(n=n?function(e){return e.toLowerCase()}:function(e){return e},n(this.string).indexOf(n(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0)},current:function(){return this.string.slice(this.start,this.pos)}},{create:function(t){return new e(t)}}}),i.define("resources",function(e,t){function n(t,n,r){var o=e("utils"),n=o.replaceUnescapedSymbol(n,"|",o.getCaretPlaceholder());if("snippets"==r)return e("elements").create("snippet",n);if("abbreviations"==r){r=n,e("utils").trim(t);var a,t=e("elements");return(a=i.exec(r))?t.create("element",a[1],a[2],"/"==a[4]):t.create("reference",r)}}var r={},i=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,o={},a={},s=e("handlerList").create();return{setVocabulary:function(e,t){r={},"system"==t?o=e:a=e},getVocabulary:function(e){return"system"==e?o:a},getMatchedResource:function(e,n){return s.exec(null,t.toArray(arguments))||this.findSnippet(n,e.name())},getVariable:function(e){return(this.getSection("variables")||{})[e]},setVariable:function(e,t){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[e]=t,this.setVocabulary(n,"user")},hasSyntax:function(e){return e in this.getVocabulary("user")||e in this.getVocabulary("system")},addResolver:function(e,t){s.add(e,t)},removeResolver:function(e){s.remove(e)},getSection:function(n){if(!n)return null;n in r||(r[n]=e("utils").deepMerge({},o[n],a[n]));for(var i,s=r[n],u=t.rest(arguments);s&&(i=u.shift());){if(!(i in s))return null;s=s[i]}return s},findItem:function(e,t){for(var n=this.getSection(e);n;){if(t in n)return n[t];n=this.getSection(n["extends"])}},findSnippet:function(e,r,i){if(!e||!r)return null;var i=i||[],o=[r];~r.indexOf("-")&&o.push(r.replace(/\-/g,":"));var a=this.getSection(e),s=null;return t.find(["snippets","abbreviations"],function(r){var i=this.getSection(e,r);return i?t.find(o,function(e){return i[e]?s=n(e,i[e],r):void 0}):void 0},this),i.push(e),s||!a["extends"]||t.include(i,a["extends"])?s:this.findSnippet(a["extends"],r,i)},fuzzyFindSnippet:function(n,r,i){var i=i||.3,n=this.getAllSnippets(n),o=e("string-score"),r=r.replace(/:$/,"").replace(/:/g,"-"),a=t.map(n,function(e,t){return{key:t,score:o.score(e.nk,r,.1)}});return(a=t.last(t.sortBy(a,"score")))&&a.score>=i?n[a.key].parsedValue:void 0},getAllSnippets:function(e){var i="all-"+e;if(!r[i]){var o=[],a=[];do{var s=this.getSection(e);if(!s)break;t.each(["snippets","abbreviations"],function(e){var r={};t.each(s[e]||null,function(t,i){r[i]={nk:i.replace(/:$/,"").replace(/:/g,"-"),value:t,parsedValue:n(i,t,e),type:e}}),o.push(r)}),a.push(e),e=s["extends"]}while(e&&!t.include(a,e));r[i]=t.extend.apply(t,o.reverse())}return r[i]}}}),i.define("actions",function(e,t){function n(t){return e("utils").trim(t.charAt(0).toUpperCase()+t.substring(1).replace(/_[a-z]/g,function(e){return" "+e.charAt(1).toUpperCase()}))}var r={};return{add:function(e,t,i){e=e.toLowerCase(),i=i||{},i.label||(i.label=n(e)),r[e]={name:e,fn:t,options:i}},get:function(e){return r[e.toLowerCase()]},run:function(e,n){t.isArray(n)||(n=t.rest(arguments));var r=this.get(e);return r?r.fn.apply(i,n):(i.log('Action "%s" is not defined',e),!1)},getAll:function(){return r},getList:function(){return t.values(this.getAll())},getMenu:function(e){var r=[],e=e||[];return t.each(this.getList(),function(i){if(!i.options.hidden&&!t.include(e,i.name)){var o=n(i.name),a=r;if(i.options.label)for(var s,u,c=i.options.label.split("/"),o=c.pop();s=c.shift();)u=t.find(a,function(e){return"submenu"==e.type&&e.name==s}),u||(u={name:s,type:"submenu",items:[]},a.push(u)),a=u.items;a.push({type:"action",name:i.name,label:o})}}),r},getActionNameForMenuTitle:function(e,n){var r=null;return t.find(n||this.getMenu(),function(t){return"action"!=t.type?r=this.getActionNameForMenuTitle(e,t.items):t.label==e||t.name==e?r=t.name:void 0},this),r||null}}}),i.define("profile",function(e,t){function n(e){t.extend(this,s,e)}function r(e,t){switch(String(t||"").toLowerCase()){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase()}return e}function i(e,t){return a[e.toLowerCase()]=new n(t)}function o(){i("xhtml"),i("html",{self_closing_tag:!1}),i("xml",{self_closing_tag:!0,tag_nl:!0}),i("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),i("line",{tag_nl:!1,indent:!1,extraFilters:"s"})}var a={},s={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};return n.prototype={tagName:function(e){return r(e,this.tag_case)},attributeName:function(e){return r(e,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?e("utils").getCaretPlaceholder():""}},o(),{create:function(e,r){return 2==arguments.length?i(e,r):new n(t.defaults(e||{},s))},get:function(r,i){if(!r&&i){var o=e("resources").findItem(i,"profile");o&&(r=o)}return r?r instanceof n?r:t.isString(r)&&r.toLowerCase()in a?a[r.toLowerCase()]:this.create(r):a.plain},remove:function(e){e=(e||"").toLowerCase(),e in a&&delete a[e]},reset:function(){a={},o()},stringCase:r}}),i.define("editorUtils",function(e){return{isInsideTag:function(e,t){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=t;r>-1&&"<"!=e.charAt(r);)r--;return-1!=r&&(n=n.exec(e.substring(r)))&&t>r&&t<r+n[0].length?!0:!1},outputInfo:function(e,t,n){return n=n||e.getProfileName(),{syntax:String(t||e.getSyntax()),profile:n?String(n):null,content:String(e.getContent())}},unindent:function(t,n){return e("utils").unindentString(n,this.getCurrentLinePadding(t))},getCurrentLinePadding:function(t){return e("utils").getLinePadding(t.getCurrentLine())}}}),i.define("actionUtils",function(e){return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(t){for(var n=t.length,r=-1,i=0,o=0,a=0,s=e("utils"),u=e("abbreviationParser");;){if(n--,0>n){r=0;break}var c=t.charAt(n);if("]"==c)o++;else if("["==c){if(!o){r=n+1;break}o--}else if("}"==c)a++;else if("{"==c){if(!a){r=n+1;break}a--}else if(")"==c)i++;else if("("==c){if(!i){r=n+1;break}i--}else if(!o&&!a&&(!u.isAllowedChar(c)||">"==c&&s.endsWithTag(t.substring(0,n+1)))){r=n+1;break}}return-1==r||a||o||i?"":t.substring(r).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(e){var t=function(){return e.charCodeAt(n++)};if("PNG\r\n\n"===e.substr(0,8)){var n=e.indexOf("IHDR")+4;return{width:t()<<24|t()<<16|t()<<8|t(),height:t()<<24|t()<<16|t()<<8|t()}}if("GIF8"===e.substr(0,4))return n=6,{width:t()|t()<<8,height:t()|t()<<8};if("ÿØ"===e.substr(0,2))for(var n=2,r=e.length;r>n&&255==t();){var i=t();if(218==i)break;var o=t()<<8|t();if(!(!(i>=192&&207>=i)||4&i||8&i))return n+=1,{height:t()<<8|t(),width:t()<<8|t()};n+=o-2}},captureContext:function(t){if(String(t.getSyntax())in{html:1,xml:1,xsl:1}){var n=String(t.getContent()),r=e("htmlMatcher").find(n,t.getCaretPos());if(r&&"tag"==r.type){for(var i,t=/([\w\-:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=r.open,n=r.range.substring(n).replace(/^<[\w\-\:]+/,""),r={name:r.name,attributes:[]};i=t.exec(n);)r.attributes.push({name:i[1],value:i[2]});return r}}return null},findExpressionBounds:function(t,n){for(var r=String(t.getContent()),i=r.length,o=t.getCaretPos()-1,a=o+1;o>=0&&n(r.charAt(o),o,r);)o--;for(;i>a&&n(r.charAt(a),a,r);)a++;return a>o?e("range").create([++o,a]):void 0},compoundUpdate:function(e,t){if(t){var n=e.getSelectionRange();return e.replaceContent(t.data,t.start,t.end,!0),e.createSelection(t.caret,t.caret+n.end-n.start),!0}return!1},detectSyntax:function(t,n){var r=n||"html";return e("resources").hasSyntax(r)||(r="html"),"html"==r&&(this.isStyle(t)||this.isInlineCSS(t))&&(r="css"),r},detectProfile:function(t){var n=t.getSyntax(),r=e("resources").findItem(n,"profile");if(r)return r;switch(n){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(t))return"line";break;case"html":return(r=e("resources").getVariable("profile"))||(r=this.isXHTML(t)?"xhtml":"html"),r}return"xhtml"},isXHTML:function(e){return-1!=e.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(t){var n=String(t.getContent()),t=t.getCaretPos();return(n=e("htmlMatcher").tag(n,t))&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(t,"lte","gte")},isInlineCSS:function(t){var n=String(t.getContent()),t=t.getCaretPos();return(n=e("xmlEditTree").parseFromPosition(n,t,!0))?(n=n.itemFromPosition(t,!0))&&"style"==n.name().toLowerCase()&&n.valueRange(!0).cmp(t,"lte","gte"):!1}}}),i.define("abbreviationUtils",function(e,t){return{isSnippet:function(t){return e("elements").is(t.matchedResource(),"snippet")},isUnary:function(e){return e.children.length||e._text||this.isSnippet(e)?!1:(e=e.matchedResource())&&e.is_empty},isInline:function(t){return t.isTextNode()||!t.name()||e("tagName").isInlineLevel(t.name())},isBlock:function(e){return this.isSnippet(e)||!this.isInline(e)},isSnippet:function(t){return e("elements").is(t.matchedResource(),"snippet")},hasTagsInContent:function(t){return e("utils").matchesTag(t.content)},hasBlockChildren:function(e){return this.hasTagsInContent(e)&&this.isBlock(e)||t.any(e.children,function(e){return this.isBlock(e)},this)},insertChildContent:function(n,r,i){var i=t.extend({keepVariable:!0,appendIfNoChild:!0},i||{}),o=!1,a=e("utils"),n=a.replaceVariables(n,function(e,t,s){var u=e;return"child"==t&&(u=a.padString(r,a.getLinePaddingFromPosition(n,s.start)),o=!0,i.keepVariable&&(u+=e)),u});return!o&&i.appendIfNoChild&&(n+=r),n}}}),i.define("base64",function(){return{encode:function(e){for(var t,n,r,i,o,a,s=[],u=0,c=e.length;c>u;)i=e.charCodeAt(u++),o=e.charCodeAt(u++),a=e.charCodeAt(u++),t=255&i,n=255&o,r=255&a,i=t>>2,t=(3&t)<<4|n>>4,n=(15&n)<<2|r>>6,r&=63,isNaN(o)?n=r=64:isNaN(a)&&(r=64),s.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r));return s.join("")},decode:function(e){var t,n,r,i,o,a=0,s=0,u=[],c=e.length;if(!e)return e;e+="";do t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(a++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(a++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(a++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(a++)),r=t<<18|n<<12|i<<6|o,t=r>>16&255,n=r>>8&255,r&=255,u[s++]=64==i?String.fromCharCode(t):64==o?String.fromCharCode(t,n):String.fromCharCode(t,n,r);while(c>a);return u.join("")}}}),i.define("htmlMatcher",function(e,t){function n(t){var n,r={};return{open:function(e){return(e=this.matches(e))&&"open"==e.type?e:null},close:function(e){return(e=this.matches(e))&&"close"==e.type?e:null},matches:function(i){var s="p"+i;if(!(s in r)&&"<"==t.charAt(i)){var u=t.slice(i);r[s]=(n=u.match(o))?{name:n[1],selfClose:!!n[3],range:e("range").create(i,n[0]),type:"open"}:(n=u.match(a))?{name:n[1],range:e("range").create(i,n[0]),type:"close"}:!1}return r[s]},text:function(){return t}}}function r(e,t,n){return e.substring(t,t+n.length)==n}function i(e,n){for(var i=[],o=null,a=n.text(),s=e.range.end,u=a.length;u>s;s++){if(r(a,s,"<!--"))for(o=s;u>o;o++)if(r(a,o,"-->")){s=o+3;break}if(o=n.matches(s))if("open"!=o.type||o.selfClose){if("close"==o.type){if(!i.length)return o.name==e.name?o:null;if(t.last(i)==o.name)i.pop();else{for(var c=!1;i.length&&!c;)i.pop()==o.name&&(c=!0);if(!i.length&&!c)return o.name==e.name?o:null}}}else i.push(o.name)}}var o=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,a=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(o,a){for(var s=e("range"),u=n(o),c=null,l=null,f=a;f>=0;f--)if(c=u.open(f))if(c.selfClose){if(c.range.cmp(a,"lt","gt"))break}else{if(l=i(c,u)){if(s.create2(c.range.start,l.range.end).contains(a))break}else if(c.range.contains(a))break;c=null}else if(r(o,f,"-->")){for(var d=f-1;d>=0&&!r(o,d,"-->");d--)if(r(o,d,"<!--")){f=d;break}}else if(r(o,f,"<!--")){for(d=f+4,c=o.length;c>d;d++)if(r(o,d,"-->")){d+=3;break}c={range:e("range").create(f,t.isNumber(d)?d-f:d[0]),type:"comment"};break}return c?(d=f=null,l?(f=s.create2(c.range.start,l.range.end),d=s.create2(c.range.end,l.range.start)):f=d=s.create2(c.range.start,c.range.end),"comment"==c.type&&(s=f.substring(o),d.start+=s.length-s.replace(/^<\!--\s*/,"").length,d.end-=s.length-s.replace(/\s*--\>$/,"").length),{open:c,close:l,type:"comment"==c.type?"comment":"tag",innerRange:d,innerContent:function(){return this.innerRange.substring(o)},outerRange:f,outerContent:function(){return this.outerRange.substring(o)},range:d.length()&&d.cmp(a,"lte","gte")?d:f,content:function(){return this.range.substring(o)},source:o}):void 0},tag:function(e,t){var n=this.find(e,t);return n&&"tag"==n.type?n:void 0}}}),i.define("tabStops",function(e,t){var n=100,r=0,i={replaceCarets:!1,escape:function(e){return"\\"+e},tabstop:function(e){return e.token},variable:function(e){return e.token}};return e("abbreviationParser").addOutputProcessor(function(t,n){var i=0,o=e("tabStops"),a=e("utils"),s={tabstop:function(e){var t=parseInt(e.group);return 0==t?"${0}":(t>i&&(i=t),e.placeholder?(t+=r,e=o.processText(e.placeholder,s),"${"+t+":"+e+"}"):"${"+(t+r)+"}")}},t=o.processText(t,s),t=a.replaceVariables(t,o.variablesResolver(n));return r+=i+1,t}),{extract:function(n,r){var o=e("utils"),a={carets:""},s=[],r=t.extend({},i,r,{tabstop:function(e){var t=e.token,n="";return"cursor"==e.placeholder?s.push({start:e.start,end:e.start+t.length,group:"carets",value:""}):("placeholder"in e&&(a[e.group]=e.placeholder),e.group in a&&(n=a[e.group]),s.push({start:e.start,end:e.start+t.length,group:e.group,value:n})),t}});r.replaceCarets&&(n=n.replace(RegExp(o.escapeForRegexp(o.getCaretPlaceholder()),"g"),"${0:cursor}"));var n=this.processText(n,r),u=o.stringBuilder(),c=0,o=t.map(s,function(e){u.append(n.substring(c,e.start));var t=u.length,r=a[e.group]||"";return u.append(r),c=e.end,{group:e.group,start:t,end:t+r.length}});return u.append(n.substring(c)),{text:u.toString(),tabstops:t.sortBy(o,"start")}},processText:function(n,r){for(var o,a,r=t.extend({},i,r),s=e("utils").stringBuilder(),u=e("stringStream").create(n);o=u.next();)"\\"!=o||u.eol()?(a=o,"$"==o&&(u.start=u.pos-1,u.match(/^[0-9]+/)?a=r.tabstop({start:s.length,group:u.current().substr(1),token:u.current()}):(o=u.match(/^\{([a-z_\-][\w\-]*)\}/))?a=r.variable({start:s.length,name:o[1],token:u.current()}):(o=u.match(/^\{([0-9]+)(:.+?)?\}/,!1))&&(u.skipToPair("{","}"),a={start:s.length,group:o[1],token:u.current()},(o=a.token.substring(a.group.length+2,a.token.length-1))&&(a.placeholder=o.substr(1)),a=r.tabstop(a))),s.append(a)):s.append(r.escape(u.next()));return s.toString()},upgrade:function(e,n){var r=0,i={tabstop:function(e){var t=parseInt(e.group);return t>r&&(r=t),e.placeholder?"${"+(t+n)+":"+e.placeholder+"}":"${"+(t+n)+"}"}};return t.each(["start","end","content"],function(t){e[t]=this.processText(e[t],i)},this),r},variablesResolver:function(r){var i={},o=e("resources");return function(a,s){if("child"==s)return a;if("cursor"==s)return e("utils").getCaretPlaceholder();var u=r.attribute(s);return t.isUndefined(u)||u===a?(u=o.getVariable(s))?u:(i[s]||(i[s]=n++),"${"+i[s]+":"+s+"}"):u}},resetTabstopIndex:function(){r=0,n=100}}}),i.define("preferences",function(e,t){var n={},r={},i=null,o=null;return{define:function(e,n,i){var o=e;t.isString(e)&&(o={},o[e]={value:n,description:i}),t.each(o,function(e,n){r[n]=t.isObject(e)&&"value"in e&&t.keys(e).length<3?e:{value:e}})},set:function(e,i){var o=e;t.isString(e)&&(o={},o[e]=i),t.each(o,function(e,i){if(!(i in r))throw'Property "'+i+'" is not defined. You should define it first with `define` method of current module';if(e!==r[i].value){switch(typeof r[i].value){case"boolean":var o=e;t.isString(o)?(o=o.toLowerCase(),e="yes"==o||"true"==o||"1"==o):e=!!o;break;case"number":e=parseInt(e+"",10)||0;break;default:null!==e&&(e+="")}n[i]=e}else i in n&&delete n[i]})},get:function(e){return e in n?n[e]:e in r?r[e].value:void 0},getArray:function(n){return n=this.get(n),t.isUndefined(n)||null===n||""===n?null:(n=t.map(n.split(","),e("utils").trim),n.length?n:null)},getDict:function(e){var n={};return t.each(this.getArray(e),function(e){e=e.split(":"),n[e[0]]=e[1]}),n},description:function(e){return e in r?r[e].description:void 0},remove:function(e){t.isArray(e)||(e=[e]),t.each(e,function(e){e in n&&delete n[e],e in r&&delete r[e]})},list:function(){return t.map(t.keys(r).sort(),function(e){return{name:e,value:this.get(e),type:typeof r[e].value,description:r[e].description}},this)},load:function(e){t.each(e,function(e,t){this.set(t,e)},this)},exportModified:function(){return t.clone(n)},reset:function(){n={}},_startTest:function(){i=r,o=n,r={},n={}},_stopTest:function(){r=i,n=o}}}),i.define("filters",function(e,t){function n(e){return e?t.isString(e)?e.split(/[\|,]/g):e:[]}var r={};return{add:function(e,t){r[e]=t},apply:function(i,o,a){var s=e("utils"),a=e("profile").get(a);return t.each(n(o),function(e){(e=s.trim(e.toLowerCase()))&&e in r&&(i=r[e](i,a))}),i},composeList:function(t,r,i){return r=e("profile").get(r),t=n(r.filters||e("resources").findItem(t,"filters")||"html"),r.extraFilters&&(t=t.concat(n(r.extraFilters))),i&&(t=t.concat(n(i))),t&&t.length||(t=n("html")),t},extractFromAbbreviation:function(e){var t="",e=e.replace(/\|([\w\|\-]+)$/,function(e,n){return t=n,""});return[e,n(t)]}}}),i.define("elements",function(e,t){function n(e){return{data:e}}var r={},i=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g,o={add:function(e,t){var n=this;r[e]=function(){var r=t.apply(n,arguments);return r&&(r.type=e),r}},get:function(e){return r[e]},create:function(e){var t=[].slice.call(arguments,1),n=this.get(e);return n?n.apply(this,t):null},is:function(e,t){return e&&e.type===t}};return o.add("element",function(e,n,r){var o={name:e,is_empty:!!r};if(n)if(o.attributes=[],t.isArray(n))o.attributes=n;else if(t.isString(n))for(;e=i.exec(n);)o.attributes.push({name:e[1],value:e[3]});else t.each(n,function(e,t){o.attributes.push({name:t,value:e})});return o}),o.add("snippet",n),o.add("reference",n),o.add("empty",function(){return{}}),o}),i.define("editTree",function(e,t,n){function r(e,n){this.options=t.extend({offset:0},n),this.source=e,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function i(e,t,n){this.parent=e,this._name=t.value,this._value=n?n.value:"",this._positions={name:t.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var o=e("range").create;return r.extend=n.extend,r.prototype={initialize:function(){},_updateSource:function(n,r,i){var a=o(r,t.isUndefined(i)?0:i-r),s=n.length-a.length(),u=function(e){t.each(e,function(t,n){t>=a.end&&(e[n]+=s)})};u(this._positions),t.each(this.list(),function(e){u(e._positions)}),this.source=e("utils").replaceSubstring(this.source,n,a)},add:function(e,t){var n=new i(e,t);return this._children.push(n),n},get:function(e){return t.isNumber(e)?this.list()[e]:t.isString(e)?t.find(this.list(),function(t){return t.name()===e}):e},getAll:function(e){t.isArray(e)||(e=[e]);var n=[],r=[];return t.each(e,function(e){t.isString(e)?n.push(e):t.isNumber(e)&&r.push(e)}),t.filter(this.list(),function(e,i){return t.include(r,i)||t.include(n,e.name())})},value:function(e,n,r){var i=this.get(e);return i?i.value(n):t.isUndefined(n)?void 0:this.add(e,n,r)},values:function(e){return t.map(this.getAll(e),function(e){return e.value()})},remove:function(e){(e=this.get(e))&&(this._updateSource("",e.fullRange()),this._children=t.without(this._children,e))},list:function(){return this._children},indexOf:function(e){return t.indexOf(this.list(),this.get(e))},name:function(e){return t.isUndefined(e)||this._name===(e=String(e))||(this._updateSource(e,this._positions.name,this._positions.name+this._name.length),this._name=e),this._name},nameRange:function(e){return o(this._positions.name+(e?this.options.offset:0),this.name())},range:function(e){return o(e?this.options.offset:0,this.toString())},itemFromPosition:function(e,n){return t.find(this.list(),function(t){return t.range(n).inside(e)})},toString:function(){return this.source}},i.extend=n.extend,i.prototype={initialize:function(){},_pos:function(e,t){return e+(t?this.parent.options.offset:0)},value:function(e){return t.isUndefined(e)||this._value===(e=String(e))||(this.parent._updateSource(e,this.valueRange()),this._value=e),this._value},name:function(e){return t.isUndefined(e)||this._name===(e=String(e))||(this.parent._updateSource(e,this.nameRange()),this._name=e),this._name},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.value,e)},range:function(e){return o(this.namePosition(e),this.toString())},fullRange:function(e){return this.range(e)},nameRange:function(e){return o(this.namePosition(e),this.name())},valueRange:function(e){return o(this.valuePosition(e),this.value())},toString:function(){return this.name()+this.value()},valueOf:function(){return this.toString()}},{EditContainer:r,EditElement:i,createToken:function(e,t,n){return e={start:e||0,value:t||"",type:n},e.end=e.start+e.value.length,e}}}),i.define("cssEditTree",function(e,t){function n(t,n){return e("range").create(t,n)}function r(e,n){var n=n||s|u,r=["white","line"];if((n&u)==u)for(;e.length&&t.include(r,t.last(e).type);)e.pop();if((n&s)==s)for(;e.length&&t.include(r,e[0].type);)e.shift();return e}function i(e){var i,o,a=["white","line",":"],c=[];for(e.nextUntil(function(){return!t.include(a,this.itemNext().type)}),o=e.current().end;i=e.next();){if("}"==i.type||";"==i.type)return r(c,s|("}"==i.type?u:0)),c.length?(o=c[0].start,e=t.last(c).end):e=o,n(o,e-o);c.push(i)}return c.length?n(c[0].start,t.last(c).end-c[0].start):void 0
}function o(r){var i=e("stringStream").create(r),o=[],a=/[\s\u00a0,]/,s=function(){i.next(),o.push(n(i.start,i.current())),i.start=i.pos};for(i.eatSpace(),i.start=i.pos;r=i.next();)if('"'==r||"'"==r){if(i.next(),!i.skipTo(r))break;s()}else if("("==r){if(i.backUp(1),!i.skipToPair("(",")"))break;i.backUp(1),s()}else a.test(r)&&(o.push(n(i.start,i.current().length-1)),i.eatWhile(a),i.start=i.pos);return s(),t.chain(o).filter(function(e){return!!e.length()}).uniq(!1,function(e){return e.toString()}).value()}var a={styleBefore:"\n ",styleSeparator:": ",offset:0},s=1,u=2,c=e("editTree").EditContainer.extend({initialize:function(o){t.defaults(this.options,a);var s,u,c=e("editTree"),f=e("tokenIterator").create(e("cssParser").parse(o)),d=[];for(s=f.position();(u=f.next())&&"{"!=u.type;)d.push(u);if(r(d),d.length?(s=d[0].start,d=t.last(d).end):d=s,s=n(s,d-s),this._positions.name=s.start,this._name=s.substring(o),!f.current()||"{"!=f.current().type)throw"Invalid CSS rule";for(this._positions.contentStart=f.position()+1;s=f.next();){if(d="identifier"==s.type)e:{d=f.tokens,u=f._i+1;for(var p=d.length;p>u;u++){if(":"==d[u].type){d=!0;break e}if("identifier"==d[u].type||"line"==d[u].type){d=!1;break e}}d=!1}d&&(s=n(s),d=i(f),u=f.current()&&";"==f.current().type?n(f.current()):n(d.end,0),this._children.push(new l(this,c.createToken(s.start,s.substring(o)),c.createToken(d.start,d.substring(o)),c.createToken(u.start,u.substring(o)))))}this._saveStyle()},_saveStyle:function(){var n=this._positions.contentStart,r=this.source,i=e("utils");t.each(this.list(),function(e){e.styleBefore=r.substring(n,e.namePosition());var o=i.splitByLines(e.styleBefore);o.length>1&&(e.styleBefore="\n"+t.last(o)),e.styleSeparator=r.substring(e.nameRange().end,e.valuePosition()),e.styleBefore=t.last(e.styleBefore.split("*/")),e.styleSeparator=e.styleSeparator.replace(/\/\*.*?\*\//g,""),n=e.range().end})},add:function(n,r,i){var o=this.list(),a=this._positions.contentStart,s=t.pick(this.options,"styleBefore","styleSeparator"),u=e("editTree");t.isUndefined(i)&&(i=o.length);var c=o[i];return c?a=c.fullRange().start:(c=o[i-1])&&(c.end(";"),a=c.range().end),c&&(s=t.pick(c,"styleBefore","styleSeparator")),n=u.createToken(a+s.styleBefore.length,n),r=u.createToken(n.end+s.styleSeparator.length,r),u=new l(this,n,r,u.createToken(r.end,";")),t.extend(u,s),this._updateSource(u.styleBefore+u.toString(),a),this._children.splice(i,0,u),u}}),l=e("editTree").EditElement.extend({initialize:function(e,t,n,r){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(e){var n=o(this.value());if(e){var r=this.valuePosition(!0);t.each(n,function(e){e.shift(r)})}return n},end:function(e){return t.isUndefined(e)||this._end===e||(this.parent._updateSource(e,this._positions.end,this._positions.end+this._end.length),this._end=e),this._end},fullRange:function(e){return e=this.range(e),e.start-=this.styleBefore.length,e},toString:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(e,t){return new c(e,t)},parseFromPosition:function(e,t,n){return n=this.extractRule(e,t,n),n&&n.inside(t)?this.parse(n.substring(e),{offset:n.start}):null},extractRule:function(t,n,r){for(var i,o="",a=t.length,s=-1;n>=0;){if(i=t.charAt(n),"{"==i){s=n;break}if("}"==i&&!r){n++;break}n--}for(;a>n;){if(i=t.charAt(n),"{"==i)s=n;else if("}"==i){-1!=s&&(o=t.substring(s,n+1));break}n++}if(o){for(n=s-1,r="";n>=0&&(i=t.charAt(n),-1=="{}/\\<>\n\r".indexOf(i));)n--;return r=t.substring(n+1,s).replace(/^[\s\n\r]+/m,""),e("range").create(s-r.length,o.length+r.length)}return null},baseName:function(e){return e.replace(/^\s*\-\w+\-/,"")},findParts:o}}),i.define("xmlEditTree",function(e,t){var n={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},r=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,i=e("editTree").EditContainer.extend({initialize:function(r){t.defaults(this.options,n),this._positions.name=1;var i=null,a=e("xmlParser").parse(r),s=e("range");t.each(a,function(e){switch(e.value=s.create(e).substring(r),e.type){case"tag":/^<[^\/]+/.test(e.value)&&(this._name=e.value.substring(1));break;case"attribute":i&&this._children.push(new o(this,i)),i=e;break;case"string":this._children.push(new o(this,i,e)),i=null}},this),i&&this._children.push(new o(this,i)),this._saveStyle()},_saveStyle:function(){var e=this.nameRange().end,n=this.source;t.each(this.list(),function(t){t.styleBefore=n.substring(e,t.namePosition()),-1!==t.valuePosition()&&(t.styleSeparator=n.substring(t.namePosition()+t.name().length,t.valuePosition()-t.styleQuote.length)),e=t.range().end})},add:function(n,r,i){var a=this.list(),s=this.nameRange().end,u=e("editTree"),c=t.pick(this.options,"styleBefore","styleSeparator","styleQuote");t.isUndefined(i)&&(i=a.length);var l=a[i];return l?s=l.fullRange().start:(l=a[i-1])&&(s=l.range().end),l&&(c=t.pick(l,"styleBefore","styleSeparator","styleQuote")),r=c.styleQuote+r+c.styleQuote,n=new o(this,u.createToken(s+c.styleBefore.length,n),u.createToken(s+c.styleBefore.length+n.length+c.styleSeparator.length,r)),t.extend(n,c),this._updateSource(n.styleBefore+n.toString(),s),this._children.splice(i,0,n),n}}),o=e("editTree").EditElement.extend({initialize:function(e,t,n){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,t="",e=e.options.styleQuote,n&&(t=n.value,e=t.charAt(0),'"'==e||"'"==e?t=t.substring(1):e="",e&&t.charAt(t.length-1)==e&&(t=t.substring(0,t.length-1))),this.styleQuote=e,this._value=t,this._positions.value=n?n.start+e.length:-1},fullRange:function(e){return e=this.range(e),e.start-=this.styleBefore.length,e},toString:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(e,t){return new i(e,t)},parseFromPosition:function(e,t,n){return n=this.extractTag(e,t,n),n&&n.inside(t)?this.parse(n.substring(e),{offset:n.start}):null},extractTag:function(t,n,i){var o,a=t.length,s=e("range"),u=Math.min(2e3,a),c=null,l=function(e){var n;return"<"==t.charAt(e)&&(n=t.substr(e,u).match(r))?s.create(e,n[0]):void 0};for(o=n;o>=0&&!(c=l(o));o--);if(c&&(c.inside(n)||i))return c;if(!c&&i)return null;for(o=n;a>o;o++)if(c=l(o))return c}}}),i.define("expandAbbreviation",function(e,t){var n=e("handlerList").create(),r=null,o=e("actions");return o.add("expand_abbreviation",function(r,i,o){var a=t.toArray(arguments),s=e("editorUtils").outputInfo(r,i,o);return a[1]=s.syntax,a[2]=s.profile,n.exec(!1,a)}),o.add("expand_abbreviation_with_tab",function(t,n,r){var i=t.getSelection(),a=e("resources").getVariable("indentation");return i?(r=e("utils"),n=e("range").create(t.getSelectionRange()),i=r.padString(i,a),t.replaceContent(a+"${0}",t.getCaretPos()),a=e("range").create(t.getCaretPos(),n.length()),t.replaceContent(i,a.start,a.end,!0),t.createSelection(a.start,a.start+i.length),!0):(o.run("expand_abbreviation",t,n,r)||t.replaceContent(a,t.getCaretPos()),!0)},{hidden:!0}),n.add(function(t,n,o){var a=t.getSelectionRange().end,s=r.findAbbreviation(t);return s&&(n=i.expandAbbreviation(s,n,o,e("actionUtils").captureContext(t)))?(t.replaceContent(n,a-s.length,a),!0):!1},{order:-1}),r={addHandler:function(e,t){n.add(e,t)},removeHandler:function(e){n.remove(e,options)},findAbbreviation:function(t){var n=e("range").create(t.getSelectionRange()),r=String(t.getContent());return n.length()?n.substring(r):(t=t.getCurrentLineRange(),e("actionUtils").extractAbbreviation(r.substring(t.start,n.start)))}}}),i.define("wrapWithAbbreviation",function(e){var t=null;return e("actions").add("wrap_with_abbreviation",function(n,r,i,o){var i=e("editorUtils").outputInfo(n,i,o),a=e("utils"),o=e("editorUtils"),r=r||n.prompt("Enter abbreviation");if(!r)return null;var r=String(r),s=e("range").create(n.getSelectionRange());if(!s.length()){if(s=e("htmlMatcher").tag(i.content,s.start),!s)return!1;s=a.narrowToNonSpace(i.content,s.range)}return a=a.escapeText(s.substring(i.content)),(r=t.wrap(r,o.unindent(n,a),i.syntax,i.profile,e("actionUtils").captureContext(n)))?(n.replaceContent(r,s.start,s.end),!0):!1}),t={wrap:function(t,n,r,o,a){var s=e("filters"),u=e("utils"),r=r||i.defaultSyntax(),o=e("profile").get(o,r);return e("tabStops").resetTabstopIndex(),t=s.extractFromAbbreviation(t),(n=e("abbreviationParser").parse(t[0],{syntax:r,pastedContent:n,contextNode:a}))?(r=s.composeList(r,o,t[1]),s.apply(n,r,o),u.replaceVariables(n.toString())):null}}}),i.exec(function(e,t){function n(e,n){var r=n-(e.options.offset||0),i=/^[\s\n\r]/;return t.find(e.list(),function(t){return t.range().end===r?i.test(e.source.charAt(r)):t.range().inside(r)})}function r(t,n,r,i){for(var o=-1,a=-1;n--;)if(t.substr(n,r.length)==r){o=n;break}if(-1!=o)for(n=o,r=t.length;r>=n++;)if(t.substr(n,i.length)==i){a=n+i.length;break}return-1!=o&&-1!=a?e("range").create(o,a-o):null}function i(t,n,i,o){function a(e){return e.replace(RegExp("^"+f.escapeForRegexp(n)+"\\s*"),function(e){return c-=e.length,""}).replace(RegExp("\\s*"+f.escapeForRegexp(i)+"$"),"")}var s=e("editorUtils"),u=s.outputInfo(t).content,c=t.getCaretPos(),l=null,f=e("utils");return(l=r(u,c,n,i))&&l.overlap(o)?(o=l,l=a(o.substring(u))):(l=n+" "+o.substring(u).replace(RegExp(f.escapeForRegexp(n)+"\\s*|\\s*"+f.escapeForRegexp(i),"g"),"")+" "+i,c+=n.length+1),null!==l?(l=f.escapeText(l),t.setCaretPos(o.start),t.replaceContent(s.unindent(t,l),o.start,o.end),t.setCaretPos(c),!0):!1}e("actions").add("toggle_comment",function(t){var r=e("editorUtils").outputInfo(t);if("css"==r.syntax){var o=t.getCaretPos(),a=e("htmlMatcher").tag(r.content,o);a&&a.open.range.inside(o)&&(r.syntax="html")}return"css"==r.syntax?(a=e("range").create(t.getSelectionRange()),r=e("editorUtils").outputInfo(t),!a.length()&&(o=e("cssEditTree").parseFromPosition(r.content,t.getCaretPos()))&&(a=(a=n(o,t.getCaretPos()))?a.range(!0):e("range").create(o.nameRange(!0).start,o.source)),a.length()||(a=e("range").create(t.getCurrentLineRange()),e("utils").narrowToNonSpace(r.content,a)),t=i(t,"/*","*/",a)):(r=e("range").create(t.getSelectionRange()),o=e("editorUtils").outputInfo(t),!r.length()&&(o=e("htmlMatcher").tag(o.content,t.getCaretPos()))&&(r=o.outerRange),t=i(t,"<!--","-->",r)),t})}),i.exec(function(e){function t(e,t,n){function r(e){for(var t=e;t>=0;){var n=i.charAt(t);if("\n"==n||"\r"==n)break;t--}return i.substring(t,e)}for(var t=t||1,n=e.getCaretPos()+(n||0),i=String(e.getContent()),e=i.length,o=-1,a=/^\s+$/;e>=n&&n>=0;){n+=t;var s=i.charAt(n),u=i.charAt(n+1),c=i.charAt(n-1);switch(s){case'"':case"'":u==s&&"="==c&&(o=n+1);break;case">":"<"==u&&(o=n+1);break;case"\n":case"\r":a.test(r(n-1))&&(o=n)}if(-1!=o)break}return o}e=e("actions"),e.add("prev_edit_point",function(e){var n=e.getCaretPos(),r=t(e,-1);return r==n&&(r=t(e,-1,-2)),-1!=r?(e.setCaretPos(r),!0):!1},{label:"Previous Edit Point"}),e.add("next_edit_point",function(e){var n=t(e,1);return-1!=n?(e.setCaretPos(n),!0):!1})}),i.exec(function(e,t){function n(t,n,r,i){var o,a=e("range"),s=e("editorUtils").outputInfo(t).content,u=s.length,c=a.create(-1,0),l=a.create(t.getSelectionRange());o=l.start;for(var f=1e5;o>=0&&u>o&&--f>0;){if(a=r(s,o,n)){if(c.equal(a))break;if(c=a.clone(),o=i(a.substring(s),a.start,l.clone()))return t.createSelection(o.start,o.end),!0;o=n?a.start:a.end-1}o+=n?-1:1}return!1}function r(e){var t=!0;return n(e,!1,function(e,n){if(t){t=!1;var r;e:{r=n;for(var i;r>=0;){if(i=u(e,r)){r=i;break e}r--}r=null}return r}return u(e,n)},function(e,t,n){return s(e,t,n,!1)})}function i(e){return n(e,!0,u,function(e,t,n){return s(e,t,n,!0)})}function o(n,r,i){var o,s,i=i||0,u=e("range"),l=[],f=-1,d="",p="";return t.each(r,function(e){switch(e.type){case"tag":s=n.substring(e.start,e.end),/^<[\w\:\-]/.test(s)&&l.push(u.create({start:e.start+1,end:e.end}));break;case"attribute":f=e.start,d=n.substring(e.start,e.end);break;case"string":l.push(u.create(f,e.end-f)),o=u.create(e),p=o.substring(n),c(p.charAt(0))&&o.start++,c(p.charAt(p.length-1))&&o.end--,l.push(o),"class"==d&&(l=l.concat(a(o.substring(n),o.start)))}}),t.each(l,function(e){e.shift(i)}),t.chain(l).filter(function(e){return!!e.length()}).uniq(!1,function(e){return e.toString()}).value()}function a(t,n){var n=n||0,r=[],i=e("stringStream").create(t),o=e("range");i.eatSpace(),i.start=i.pos;for(var a;a=i.next();)/[\s\u00a0]/.test(a)&&(r.push(o.create(i.start+n,i.pos-i.start-1)),i.eatSpace(),i.start=i.pos);return r.push(o.create(i.start+n,i.pos-i.start)),r}function s(n,r,i,a){return n=o(n,e("xmlParser").parse(n),r),a&&n.reverse(),(r=t.find(n,function(e){return e.equal(i)}))?(a=t.indexOf(n,r),a<n.length-1?n[a+1]:null):a?t.find(n,function(e){return e.start<i.start}):!r&&(a=t.filter(n,function(e){return e.inside(i.end)}),a.length>1)?a[1]:t.find(n,function(e){return e.end>i.end})}function u(t,n){var r;return"<"==t.charAt(n)&&(r=t.substring(n,t.length).match(h))?e("range").create(n,r[0]):void 0}function c(e){return'"'==e||"'"==e}function l(n){var r=n.valueRange(!0),i=[n.range(!0),r],o=e("stringStream"),a=e("cssEditTree"),s=e("range"),u=n.value();return t.each(n.valueParts(),function(e){var n=e.clone();i.push(n.shift(r.start));var c=o.create(e.substring(u));if(c.match(/^[\w\-]+\(/,!0)){c.start=c.pos,c.skipToPair("(",")");var l=c.current();i.push(s.create(n.start+c.start,l)),t.each(a.findParts(l),function(e){i.push(s.create(n.start+c.start+e.start,e.substring(l)))})}}),t.chain(i).filter(function(e){return!!e.length()}).uniq(!1,function(e){return e.toString()}).value()}function f(e,n,r){var i,o,a=null,s=null,u=e.list();for(r?(u.reverse(),i=function(e){return e.range(!0).start<=n.start},o=function(e){return e.start<n.start}):(i=function(e){return e.range(!0).end>=n.end},o=function(e){return e.end>n.start});a=t.find(u,i);){if(e=l(a),r&&e.reverse(),s=t.find(e,function(e){return e.equal(n)})){if(s=t.indexOf(e,s),s!=e.length-1){s=e[s+1];break}}else{if(s=t.filter(e,function(e){return e.inside(n.end)}),s.length>1){s=s[1];break}if(s=t.find(e,o))break}s=null,n.start=n.end=r?a.range(!0).start-1:a.range(!0).end+1}return s}function d(t,n,r){return t=e("cssEditTree").parse(t,{offset:n}),n=t.nameRange(!0),r.end<n.end?n:f(t,r,!1)}function p(t,n,r){return n=e("cssEditTree").parse(t,{offset:n}),t=f(n,r,!0),!t&&(n=n.nameRange(!0),r.start>n.start)?n:t}var h=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,m=e("actions");m.add("select_next_item",function(t){return"css"==t.getSyntax()?n(t,!1,e("cssEditTree").extractRule,d):r(t)}),m.add("select_previous_item",function(t){return"css"==t.getSyntax()?n(t,!0,e("cssEditTree").extractRule,p):i(t)})}),i.exec(function(e){function t(t,n){var n=String((n||"out").toLowerCase()),o=e("editorUtils").outputInfo(t),a=e("range").create(t.getSelectionRange()),o=o.content;if(i&&!i.range.equal(a)&&(i=null),i&&a.length())if("in"==n){if("tag"==i.type&&!i.close)return!1;if(i.range.equal(i.outerRange))i.range=i.innerRange;else{var s=e("utils").narrowToNonSpace(o,i.innerRange);(i=r.find(o,s.start+1))&&i.range.equal(a)&&i.outerRange.equal(a)&&(i.range=i.innerRange)}}else!i.innerRange.equal(i.outerRange)&&i.range.equal(i.innerRange)&&a.equal(i.range)?i.range=i.outerRange:(i=r.find(o,a.start))&&i.range.equal(a)&&i.innerRange.equal(a)&&(i.range=i.outerRange);else i=r.find(o,a.start);return i&&!i.range.equal(a)?(t.createSelection(i.range.start,i.range.end),!0):(i=null,!1)}var n=e("actions"),r=e("htmlMatcher"),i=null;n.add("match_pair",t,{hidden:!0}),n.add("match_pair_inward",function(e){return t(e,"in")},{label:"HTML/Match Pair Tag (inward)"}),n.add("match_pair_outward",function(e){return t(e,"out")},{label:"HTML/Match Pair Tag (outward)"}),n.add("matching_pair",function(e){var t=String(e.getContent()),n=e.getCaretPos();return"<"==t.charAt(n)&&n++,(t=r.tag(t,n))&&t.close?(e.setCaretPos(t.open.range.inside(n)?t.close.range.start:t.open.range.start),!0):!1},{label:"HTML/Go To Matching Tag Pair"})}),i.exec(function(e){e("actions").add("remove_tag",function(t){var n=e("utils"),r=e("editorUtils").outputInfo(t),i=e("htmlMatcher").tag(r.content,t.getCaretPos());if(i){if(i.close){var o=n.narrowToNonSpace(r.content,i.innerRange),a=n.findNewlineBounds(r.content,o.start),a=n.getLinePadding(a.substring(r.content)),r=o.substring(r.content),r=n.unindentString(r,a);t.replaceContent(n.getCaretPlaceholder()+n.escapeText(r),i.outerRange.start,i.outerRange.end)}else t.replaceContent(n.getCaretPlaceholder(),i.range.start,i.range.end);return!0}return!1},{label:"HTML/Remove Tag"})}),i.exec(function(e){e("actions").add("split_join_tag",function(t,n){var r=e("htmlMatcher"),i=e("editorUtils").outputInfo(t,null,n),o=e("profile").get(i.profile);if(r=r.tag(i.content,t.getCaretPos())){if(r.close){var i=e("utils"),o=o.selfClosing()||" /",o=r.open.range.substring(r.source).replace(/\s*>$/,o+">"),a=t.getCaretPos();o.length+r.outerRange.start<a&&(a=o.length+r.outerRange.start),o=i.escapeText(o),t.replaceContent(o,r.outerRange.start,r.outerRange.end)}else{var i=e("utils"),s=i.getNewline(),u=e("resources").getVariable("indentation"),a=t.getCaretPos(),o=o.tag_nl===!0?s+u+s:"",s=r.outerContent().replace(/\s*\/>$/,">"),a=r.outerRange.start+s.length;s+=o+"</"+r.open.name+">",s=i.escapeText(s),t.replaceContent(s,r.outerRange.start,r.outerRange.end)}t.setCaretPos(a),r=!0}else r=!1;return r},{label:"HTML/Split\\Join Tag Declaration"})}),i.define("reflectCSSValue",function(e,t){function n(t){var n=e("cssEditTree"),r=e("editorUtils").outputInfo(t),t=t.getCaretPos();if((n=n.parseFromPosition(r.content,t))&&(r=n.itemFromPosition(t,!0))){var o=n.source,a=n.options.offset,t=t-a-r.range().start;if(i.exec(!1,[r]),o!==n.source)return{data:n.source,start:a,end:a+o.length,caret:a+r.range().start+t}}}function r(t){var n,t=e("cssEditTree").baseName(t);return"opacity"==t||"filter"==t?/^(?:\-\w+\-)?(?:opacity|filter)$/:RegExp((n=t.match(/^border-radius-(top|bottom)(left|right)/))?"^(?:\\-\\w+\\-)?(?:"+t+"|border-"+n[1]+"-"+n[2]+"-radius)$":(n=t.match(/^border-(top|bottom)-(left|right)-radius/))?"^(?:\\-\\w+\\-)?(?:"+t+"|border-radius-"+n[1]+n[2]+")$":"^(?:\\-\\w+\\-)?"+t+"$")}var i=e("handlerList").create();return e("actions").add("reflect_css_value",function(t){return"css"!=t.getSyntax()?!1:e("actionUtils").compoundUpdate(t,n(t))},{label:"CSS/Reflect Value"}),i.add(function(n){var i=r(n.name());t.each(n.parent.list(),function(t){if(i.test(t.name())){var r,o=n.name(),a=n.value(),s=t.name();r=t.value();var u=e("cssEditTree"),c=e("utils"),o=u.baseName(o),s=u.baseName(s);r="opacity"==o&&"filter"==s?r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(a))):"filter"==o&&"opacity"==s?(o=a.match(/opacity=([^)]*)/i))?c.prettifyNumber(parseInt(o[1])/100):r:a,t.value(r)}})},{order:-1}),{addHandler:function(e,t){i.add(e,t)},removeHandler:function(e){i.remove(e,options)}}}),i.exec(function(e){e("actions").add("evaluate_math_expression",function(t){var n=e("actionUtils"),r=e("utils"),i=String(t.getContent()),o=e("range").create(t.getSelectionRange());if(o.length()||(o=n.findExpressionBounds(t,function(e){return r.isNumeric(e)||-1!=".+-*/\\".indexOf(e)})),o&&o.length()){n=o.substring(i),n=n.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"Math.round($1/$2)");try{var a=r.prettifyNumber(new Function("return "+n)());return t.replaceContent(a,o.start,o.end),t.setCaretPos(o.start+a.length),!0}catch(s){}}return!1},{label:"Numbers/Evaluate Math Expression"})}),i.exec(function(e,t){function n(n,i){var o=e("utils"),a=!1,s=!1,u=e("actionUtils").findExpressionBounds(n,function(e,t,n){return o.isNumeric(e)?!0:"."==e?o.isNumeric(n.charAt(t+1))?s?!1:s=!0:!1:"-"==e?a?!1:a=!0:!1});if(u&&u.length()){var c=u.substring(String(n.getContent())),l=parseFloat(c);if(!t.isNaN(l)){if(l=o.prettifyNumber(l+i),/^(\-?)0+[1-9]/.test(c)){var f="";RegExp.$1&&(f="-",l=l.substring(1)),l=l.split("."),l[0]=o.zeroPadString(l[0],r(c)),l=f+l.join(".")}return n.replaceContent(l,u.start,u.end),n.createSelection(u.start,u.start+l.length),!0}}return!1}function r(e){return e=e.replace(/^\-/,""),~e.indexOf(".")?e.split(".")[0].length:e.length}var i=e("actions");t.each([1,-1,10,-10,.1,-.1],function(e){var t=e>0?"increment":"decrement";i.add(t+"_number_by_"+String(Math.abs(e)).replace(".","").substring(0,2),function(t){return n(t,e)},{label:"Numbers/"+t.charAt(0).toUpperCase()+t.substring(1)+" number by "+Math.abs(e)})})}),i.exec(function(e,t){var n=e("actions"),r=e("preferences");r.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference’s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when “Insert formatted linebreak” action will be performed in CSS file). If you’re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),n.add("insert_formatted_line_break_only",function(n){var i=e("utils"),o=e("resources"),a=e("editorUtils").outputInfo(n),s=n.getCaretPos(),u=i.getNewline();if(t.include(["html","xml","xsl"],a.syntax)){if(o=o.getVariable("indentation"),(a=e("htmlMatcher").tag(a.content,s))&&!a.innerRange.length())return n.replaceContent(u+o+i.getCaretPlaceholder()+u,s),!0}else if("css"==a.syntax&&(a=a.content,s&&"{"==a.charAt(s-1))){var c=r.get("css.closeBraceIndentation"),o=o.getVariable("indentation"),l="}"==a.charAt(s);if(!l)for(var f,d=s,p=a.length;p>d&&(f=a.charAt(d),"{"!=f);d++)if("}"==f){c="",l=!0;break}return l||(c+="}"),i=u+o+i.getCaretPlaceholder()+c,n.replaceContent(i,s),!0}return!1},{hidden:!0}),n.add("insert_formatted_line_break",function(t){if(!n.run("insert_formatted_line_break_only",t)){for(var r,i=e("utils"),o=e("editorUtils").getCurrentLinePadding(t),a=String(t.getContent()),s=t.getCaretPos(),u=a.length,i=i.getNewline(),c="",l=t.getCurrentLineRange().end+1;u>l&&(r=a.charAt(l)," "==r||"    "==r);l++)c+=r;c.length>o.length?t.replaceContent(i+c,s,s,!0):t.replaceContent(i,s)}return!0},{hidden:!0})}),i.exec(function(e){e("actions").add("merge_lines",function(t){var n=e("htmlMatcher"),r=e("utils"),i=e("editorUtils").outputInfo(t),o=e("range").create(t.getSelectionRange());if(!o.length()&&(n=n.find(i.content,t.getCaretPos()))&&(o=n.outerRange),o.length()){for(i=o.substring(i.content),i=r.splitByLines(i),n=1;n<i.length;n++)i[n]=i[n].replace(/^\s+/,"");return i=i.join("").replace(/\s{2,}/," "),n=i.length,i=r.escapeText(i),t.replaceContent(i,o.start,o.end),t.createSelection(o.start,o.start+n),!0}return!1})}),i.exec(function(e){function t(e,t,n){return n=n||0,t.charAt(n)==e.charAt(0)&&t.substr(n,e.length)==e}function n(t,n,r){var i=e("file"),o=e("actionUtils"),a=t.getFilePath();if(null===a)throw"You should save your file before using this action";var s=i.locateFile(a,n);if(null===s)throw"Can't find "+n+" file";return i.read(s,function(a,u){if(a)throw"Unable to read "+s+": "+a;var c=e("base64").encode(String(u));if(!c)throw"Can't encode file content to base64";c="data:"+(o.mimeTypes[String(i.getExt(s))]||"application/octet-stream")+";base64,"+c,t.replaceContent("$0"+c,r,r+n.length)}),!0}e("actions").add("encode_decode_data_url",function(r){var i=String(r.getSelection()),o=r.getCaretPos();if(!i)for(var a=String(r.getContent());o-->=0;){if(t("src=",a,o)){(a=a.substr(o).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(i=a[3],o+=a[1].length);break}if(t("url(",a,o)){(a=a.substr(o).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(i=a[3],o+=a[1].length);break}}if(i)if(t("data:",i))if(a=String(r.prompt("Enter path to file (absolute or relative)"))){var s=e("file"),u=s.createPath(r.getFilePath(),a);if(!u)throw"Can't save file";s.save(u,e("base64").decode(i.replace(/^data\:.+?;.+?,/,""))),r.replaceContent("$0"+a,o,o+i.length),r=!0}else r=!1;else r=n(r,i,o);else r=!1;return r},{label:"Encode\\Decode data:URL image"})}),i.exec(function(e,t){function n(n){var r=n.getCaretPos(),o=e("editorUtils").outputInfo(n),a=e("xmlEditTree").parseFromPosition(o.content,r,!0);a&&"img"==(a.name()||"").toLowerCase()&&i(n,a.value("src"),function(i){if(i){var o=a.range(!0);a.value("width",i.width),a.value("height",i.height,a.indexOf("width")+1),e("actionUtils").compoundUpdate(n,t.extend(o,{data:a.toString(),caret:r}))}})}function r(n){var r=n.getCaretPos(),o=e("editorUtils").outputInfo(n),a=e("cssEditTree").parseFromPosition(o.content,r,!0);if(a){var s,o=a.itemFromPosition(r,!0);o&&(s=/url\((["']?)(.+?)\1\)/i.exec(o.value()||""))&&i(n,s[2],function(i){if(i){var o=a.range(!0);a.value("width",i.width+"px"),a.value("height",i.height+"px",a.indexOf("width")+1),e("actionUtils").compoundUpdate(n,t.extend(o,{data:a.toString(),caret:r}))}})}}function i(t,n,r){var i=e("actionUtils");if(n){if(/^data:/.test(n))return t=e("base64").decode(n.replace(/^data\:.+?;.+?,/,"")),r(i.getImageSize(t));var o=e("file"),a=o.locateFile(t.getFilePath(),n);if(null===a)throw"Can't find "+n+" file";o.read(a,function(e,t){if(e)throw"Unable to read "+a+": "+e;r(i.getImageSize(String(t)))})}}e("actions").add("update_image_size",function(e){return t.include(["css","less","scss"],String(e.getSyntax()))?r(e):n(e),!0})}),i.define("cssResolver",function(e,t){function n(e){var t=e&&e.charCodeAt(0);return e&&"."==e||t>47&&58>t}function r(t){return t=e("utils").trim(t),~t.indexOf("/*")||/[\n\r]/.test(t)?!1:/^[a-z0-9\-]+\s*\:/i.test(t)?(t=e("tabStops").processText(t,{replaceCarets:!0,tabstop:function(){return"value"}}),2==t.split(":").length):!1}function o(t){if("-"==t.charAt(0)&&!/^\-[\.\d]/.test(t)&&(t=t.replace(/^\-+/,"")),"#"==t.charAt(0)){var n=t.replace(/^#+/,"")||"0";if("t"==n.toLowerCase())t="transparent";else{var r=e("utils").repeatString,t=null;switch(n.length){case 1:t=r(n,6);break;case 2:t=r(n,3);break;case 3:t=n.charAt(0)+n.charAt(0)+n.charAt(1)+n.charAt(1)+n.charAt(2)+n.charAt(2);break;case 4:t=n+n.substr(0,2);break;case 5:t=n+n.charAt(0);break;default:t=n.substr(0,6)}switch(b.get("css.color.short")&&(n=t.split(""),n[0]==n[1]&&n[2]==n[3]&&n[4]==n[5]&&(t=n[0]+n[2]+n[4])),b.get("css.color.case")){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}t="#"+t}}else t=a(t);return t}function a(e){var t=b.getDict("css.keywordAliases");return e in t?t[e]:e}function s(e){return t.include(b.getArray("css.keywords"),a(e))}function u(e,n){var r=g[n];return r||(r=t.find(g,function(e){return e.prefix==n})),r&&r.supports(e)}function c(e,n){var r=[];return t.each(g,function(t,n){u(e,n)&&r.push(n)}),!r.length&&!n&&t.each(g,function(e,t){e.obsolete||r.push(t)}),r}function l(e,n){t.isString(n)&&(n={prefix:n}),g[e]=t.extend({},m,n)}function f(e,n){if(n){var r=b.get(n+"."+e);if(!t.isUndefined(r))return r}return b.get("css."+e)}function d(n,i,o){return t.isString(n)||(n=n.data),r(n)?(i&&(~n.indexOf(";")?n=n.split(";").join(" !important;"):n+=" !important"),i=n.indexOf(":"),n=n.substring(0,i).replace(/\s+$/,"")+f("valueSeparator",o)+e("utils").trim(n.substring(i+1)),n.replace(/\s*;\s*$/,f("propertyEnd",o))):n}function p(e){var n=b.getArray(e);return t.each(b.getArray(e+"Addon"),function(e){"-"==e.charAt(0)?n=t.without(n,e.substr(1)):("+"==e.charAt(0)&&(e=e.substr(1)),n.push(e))}),n}var h=null,m={prefix:"emmet",obsolete:!1,transformName:function(e){return"-"+this.prefix+"-"+e},properties:function(){return p("css."+this.prefix+"Properties")||[]},supports:function(e){return t.include(this.properties(),e)}},g={},b=e("preferences");b.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),b.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),b.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),b.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),b.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),b.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don’t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you.");var v=t.template("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),y=t.template("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>.");t.each({webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, word-wrap, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"},function(e,t){b.define("css."+t+"Properties",e,v({vendor:t})),b.define("css."+t+"PropertiesAddon","",y({vendor:t}))
}),b.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values ​​must not contain units."),b.define("css.intUnit","px","Default unit for integer values"),b.define("css.floatUnit","em","Default unit for float values"),b.define("css.keywords","auto, inherit","A comma-separated list of valid keywords that can be used in CSS abbreviations."),b.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),b.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),b.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),b.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),b.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),b.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),b.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),l("w",{prefix:"webkit"}),l("m",{prefix:"moz"}),l("s",{prefix:"ms"}),l("o",{prefix:"o"});var x=["css","less","sass","scss","stylus"];e("resources").addResolver(function(e,n){return t.include(x,n)&&e.isElement()?h.expandToSnippet(e.abbreviation,n):null});var w=e("expandAbbreviation");return w.addHandler(function(e,n,r){if(!t.include(x,n))return!1;var o=e.getSelectionRange().end,a=w.findAbbreviation(e);return a&&(n=i.expandAbbreviation(a,n,r))?(a=o-a.length,r=o,";"==e.getContent().charAt(o)&&";"==n.charAt(n.length-1)&&r++,e.replaceContent(n,a,r),!0):!1}),h={addPrefix:l,supportsPrefix:u,prefixed:function(e,t){return u(e,t)?"-"+t+"-"+e:e},listPrefixes:function(){return t.map(g,function(e){return e.prefix})},getPrefix:function(e){return g[e]},removePrefix:function(e){e in g&&delete g[e]},extractPrefixes:function(e){if("-"!=e.charAt(0))return{property:e,prefixes:null};for(var t,n=1,r=e.length,i=[];r>n;){if(t=e.charAt(n),"-"==t){n++;break}if(!(t in g)){i.length=0,n=1;break}i.push(t),n++}return n==r-1&&(n=1,i.length=1),{property:e.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(t,r){for(var i,r=r||"css",o=0,a=t.length,u="";a>o;){if(i=t.charAt(o),n(i)||"#"==i||"-"==i&&n(t.charAt(o+1))){u=t.substring(o);break}o++}for(i=t.substring(0,t.length-u.length),o=e("resources"),a=[];~i.indexOf("-")&&!o.findSnippet(r,i);){i=i.split("-");var c=i.pop();if(!s(c))break;a.unshift(c),i=i.join("-")}return a.join("-")+u},parseValues:function(r){for(var i=e("stringStream").create(r),a=[],u=null;u=i.next();)"#"==u?i.match(/^t|[0-9a-f]+/i,!0):"-"==u?((s(t.last(a))||i.start&&n(r.charAt(i.start-1)))&&(i.start=i.pos),i.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0)):i.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),a.push(i.current()),i.start=i.pos;return t.map(t.compact(a),o)},extractValues:function(e){var t=this.findValuesInAbbreviation(e);return t?{property:e.substring(0,e.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:e,values:null}},normalizeValue:function(e,n){var n=(n||"").toLowerCase(),r=b.getArray("css.unitlessProperties");return e.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(e,i,o){return o||"0"!=i&&!t.include(r,n)?(o?(e=b.getDict("css.unitAliases"),i+=o in e?e[o]:o):i=i.replace(/\.$/,"")+b.get(~i.indexOf(".")?"css.floatUnit":"css.intUnit"),i):i})},expand:function(n,i,o){var a,o=o||"css",s=e("resources"),u=b.get("css.autoInsertVendorPrefixes");(a=/^(.+)\!$/.test(n))&&(n=RegExp.$1);var l=s.findSnippet(o,n);if(l&&!u)return d(l,a,o);var n=this.extractPrefixes(n),f=this.extractValues(n.property),n=t.extend(n,f);if(l?n.values=null:l=s.findSnippet(o,n.property),!l&&b.get("css.fuzzySearch")&&(l=s.fuzzyFindSnippet(o,n.property,parseFloat(b.get("css.fuzzySearchMinScore")))),l?t.isString(l)||(l=l.data):l=n.property+":${1};",!r(l))return l;var p=this.splitSnippet(l),h=[];!i&&n.values&&(i=t.map(n.values,function(e){return this.normalizeValue(e,p.name)},this).join(" ")+";"),p.value=i||p.value;var m,i="all"==n.prefixes||!n.prefixes&&u?c(p.name,u&&"all"!=n.prefixes):n.prefixes,v=[];if(t.each(i,function(e){e in g&&(m=g[e].transformName(p.name),v.push(m),h.push(d(m+":"+p.value,a,o)))}),h.push(d(p.name+":"+p.value,a,o)),v.push(p.name),b.get("css.alignVendor"))var y=e("utils").getStringsPads(v),h=t.map(h,function(e,t){return y[t]+e});return h},expandToSnippet:function(e,n){var r=this.expand(e,null,n);return t.isArray(r)?r.join("\n"):t.isString(r)?String(r):r.data},splitSnippet:function(t){var n=e("utils"),t=n.trim(t);return-1==t.indexOf(":")?{name:t,value:"${1};"}:(t=t.split(":"),{name:n.trim(t.shift()),value:n.trim(t.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")})},getSyntaxPreference:f,transformSnippet:d}}),i.define("cssGradient",function(e,t){function n(t){return e("utils").trim(t).replace(/\s+/g," ")}function r(e){var e=n(e),t=null,e=e.replace(/^(\w+\(.+?\))\s*/,function(e,n){return t=n,""});t||(e=e.split(" "),t=e[0],e=e[1]||"");var r={color:t};return e&&e.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(e,t,n){r.position=t,~t.indexOf(".")?n="":n||(n="%"),n&&(r.unit=n)}),r}function i(e){var n=0;t.each(e,function(r,i){if(!i)return r.position=r.position||0;if(i!=e.length-1||"position"in r||(r.position=1),"position"in r){var o=e[n].position||0,a=(r.position-o)/(i-n);t.each(e.slice(n,i),function(e,t){e.position=o+a*t}),n=i}})}function o(e){var n=parseFloat(e);if(!t.isNaN(n))switch(n%360){case 0:return"left";case 90:return"bottom";case 180:return"right";case 240:return"top"}return e}function a(e){if(e=o(e),g.test(e))throw"The direction is an angle that can’t be converted.";var t=function(t){return~e.indexOf(t)?"100%":"0"};return t("right")+" "+t("bottom")+", "+t("left")+" "+t("top")}function s(e){var n=v.getArray("css.gradient.prefixes"),n=n?t.map(n,function(t){return"-"+t+"-"+e}):[];return n.push(e),n}function u(n,r){var i=[],o=e("cssResolver");return v.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&i.push({name:"background-color",value:"${1:"+n.colorStops[0].color+"}"}),t.each(v.getArray("css.gradient.prefixes"),function(e){var t=o.prefixed(r,e);if("webkit"==e&&v.get("css.gradient.oldWebkit"))try{i.push({name:t,value:h.oldWebkitLinearGradient(n)})}catch(a){}i.push({name:t,value:h.toString(n,e)})}),i.sort(function(e,t){return t.name.length-e.name.length})}function c(n,r,i){var o=n.parent,a=e("utils"),c=e("preferences").get("css.alignVendor"),l=n.styleSeparator,f=n.styleBefore;if(t.each(o.getAll(s(n.name())),function(e){e!=n&&/gradient/i.test(e.value())&&(e.styleSeparator.length<l.length&&(l=e.styleSeparator),e.styleBefore.length<f.length&&(f=e.styleBefore),o.remove(e))}),c){if(f!=n.styleBefore){var d=n.fullRange();o._updateSource(f,d.start,d.start+n.styleBefore.length),n.styleBefore=f}l!=n.styleSeparator&&(o._updateSource(l,n.nameRange().end,n.valueRange().start),n.styleSeparator=l)}var p=n.value();if(i||(i=e("range").create(0,n.value())),n.value(function(e){return a.replaceSubstring(p,e,i)}(h.toString(r))+"${2}"),r=u(r,n.name()),c){c=t.pluck(r,"value"),d=t.pluck(r,"name"),c.push(n.value()),d.push(n.name());var m=a.getStringsPads(t.map(c,function(e){return e.substring(0,e.indexOf("("))})),g=a.getStringsPads(d);n.name(t.last(g)+n.name()),t.each(r,function(e,t){e.name=g[t]+e.name,e.value=m[t]+e.value}),n.value(t.last(m)+n.value())}t.each(r,function(e){o.add(e.name,e.value,o.indexOf(n))})}function l(e){var n=e.value(),r=null;return(e=t.find(e.valueParts(),function(e){return r=h.parse(e.substring(n))}))&&r?{gradient:r,valueRange:e}:null}function f(n,r){var i=v.get("css.gradient.defaultProperty");if(!i)return!1;var o=String(n.getContent()),a=e("range").create(n.getCurrentLineRange()),s=a.substring(o).replace(/^\s+/,function(e){return a.start+=e.length,""}).replace(/\s+$/,function(e){return a.end-=e.length,""}),o=e("cssResolver");if(s=h.parse(s)){var c=u(s,i);c.push({name:i,value:h.toString(s)+"${2}"});var l=o.getSyntaxPreference("valueSeparator",r),f=o.getSyntaxPreference("propertyEnd",r);if(e("preferences").get("css.alignVendor")){var d=e("utils").getStringsPads(t.map(c,function(e){return e.value.substring(0,e.value.indexOf("("))}));t.each(c,function(e,t){e.value=d[t]+e.value})}return c=t.map(c,function(e){return e.name+l+e.value+f}),n.replaceContent(c.join("\n"),a.start,a.end),!0}return!1}function d(n,r){var i=null,o=e("cssEditTree").parseFromPosition(n,r,!0);return o&&((i=o.itemFromPosition(r,!0))||(i=t.find(o.list(),function(e){return e.range(!0).end==r}))),{rule:o,property:i}}var p=["top","to bottom","0deg"],h=null,m=["css","less","sass","scss","stylus","styl"],g=/\d+deg/i,b=/top|bottom|left|right/i,v=e("preferences");return v.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),v.define("css.gradient.oldWebkit",!0,"Generate gradient definition for old Webkit implementations"),v.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),v.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),v.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),e("expandAbbreviation").addHandler(function(n,r,i){if(i=e("editorUtils").outputInfo(n,r,i),!t.include(m,i.syntax))return!1;var o=n.getCaretPos(),a=i.content,i=d(a,o);if(i.property){var s=l(i.property);if(s){var u=i.rule.options.offset||0,p=u+i.rule.toString().length;if(/[\n\r]/.test(i.property.value())){var h=i.property.valueRange(!0).start+s.valueRange.end,a=e("utils").replaceSubstring(a,";",h),o=d(a,o);o.property&&(s=l(o.property),i=o)}i.property.end(";");var o=i.property.name(),a=e("resources"),h=e("preferences"),g=a.findSnippet(r,o);return!g&&h.get("css.fuzzySearch")&&(g=a.fuzzyFindSnippet(r,o,parseFloat(h.get("css.fuzzySearchMinScore")))),g?(t.isString(g)||(g=g.data),r=e("cssResolver").splitSnippet(g).name):r=void 0,r&&i.property.name(r),c(i.property,s.gradient,s.valueRange),n.replaceContent(i.rule.toString(),u,p,!0),!0}}return f(n,r)}),e("reflectCSSValue").addHandler(function(n){var r=e("utils"),i=l(n);if(!i)return!1;var o=n.value(),a=function(e){return r.replaceSubstring(o,e,i.valueRange)};return t.each(n.parent.getAll(s(n.name())),function(e){if(e!==n){var t=e.value().match(/^\s*(\-([a-z]+)\-)?linear\-gradient/);t?e.value(a(h.toString(i.gradient,t[2]||""))):e.value().match(/\s*\-webkit\-gradient/)&&e.value(a(h.oldWebkitLinearGradient(i.gradient)))}}),!0}),h={parse:function(i){var o=null;return e("utils").trim(i).replace(/^([\w\-]+)\((.+?)\)$/,function(i,a,s){if(a=a.toLowerCase().replace(/^\-[a-z]+\-/,""),"linear-gradient"==a||"lg"==a){for(var u,i=p[0],s=e("stringStream").create(e("utils").trim(s)),a=[];u=s.next();)","==s.peek()?(a.push(s.current()),s.next(),s.eatSpace(),s.start=s.pos):"("==u&&s.skipTo(")");return a.push(s.current()),a=t.compact(t.map(a,n)),a.length?((g.test(a[0])||b.test(a[0]))&&(i=a.shift()),o={type:"linear",direction:i,colorStops:t.map(a,r)}):o=null,""}return i}),o},oldWebkitLinearGradient:function(e){if(t.isString(e)&&(e=this.parse(e)),!e)return null;var n=t.map(e.colorStops,t.clone);return t.each(n,function(e){if("position"in e){if(!~e.position.indexOf(".")&&"%"!=e.unit)throw"Can't convert color stop '"+(e.position+(e.unit||""))+"'";e.position=parseFloat(e.position)/("%"==e.unit?100:1)}}),i(n),n=t.map(n,function(e,t){return e.position||t?1==e.position&&t==n.length-1?"to("+e.color+")":"color-stop("+e.position.toFixed(2).replace(/\.?0+$/,"")+", "+e.color+")":"from("+e.color+")"}),"-webkit-gradient(linear, "+a(e.direction)+", "+n.join(", ")+")"},toString:function(e,n){if("linear"==e.type){var r=(n?"-"+n+"-":"")+"linear-gradient",i=t.map(e.colorStops,function(e){return e.color+("position"in e?" "+e.position+(e.unit||""):"")});return e.direction&&(!v.get("css.gradient.omitDefaultDirection")||!t.include(p,e.direction))&&i.unshift(e.direction),r+"("+i.join(", ")+")"}}}}),i.exec(function(e,t){var n=e("handlerList").create(),r=e("resources");t.extend(r,{addGenerator:function(e,r,i){t.isString(e)&&(e=RegExp(e)),n.add(function(t,n){var i;return(i=e.exec(t.name()))?r(i,t,n):null},i)}}),r.addResolver(function(){return n.exec(null,t.toArray(arguments))})}),i.define("tagName",function(e,t){var n={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(e){return e=(e||"").toLowerCase(),e in r?this.getMapping(e):this.isInlineLevel(e)?"span":"div"},getMapping:function(e){return r[e.toLowerCase()]},isInlineLevel:function(e){return this.isTypeOf(e,"inlineLevel")},isBlockLevel:function(e){return this.isTypeOf(e,"blockLevel")},isEmptyElement:function(e){return this.isTypeOf(e,"empty")},isTypeOf:function(e,r){return t.include(n[r],e)},addMapping:function(e,t){r[e]=t},removeMapping:function(e){e in r&&delete r[e]},addElementToCollection:function(e,r){n[r]||(n[r]=[]);var i=this.getCollection(r);t.include(i,e)||i.push(e)},removeElementFromCollection:function(e,r){r in n&&(n[r]=t.without(this.getCollection(r),e))},getCollection:function(e){return n[e]}}}),i.exec(function(e,t){function n(){return{element:s.get("bem.elementSeparator"),modifier:s.get("bem.modifierSeparator")}}function r(r){if(e("abbreviationUtils").isSnippet(r))return r;r.__bem={block:"",element:"",modifier:""};var a=i(r.attribute("class")).split(" "),s=/^[a-z]\-/i;return r.__bem.block=t.find(a,function(e){return s.test(e)}),r.__bem.block||(s=/^[a-z]/i,r.__bem.block=t.find(a,function(e){return s.test(e)})||""),(a=t.chain(a).map(function(e){var t;t=o(e,r,"element"),t=o(t,r,"modifier");var i="",a="",s="",e=n();if(~t.indexOf(e.element)?(i=t.split(e.element),s=i[1].split(e.modifier),i=i[0],a=s.shift(),s=s.join(e.modifier)):~t.indexOf(e.modifier)&&(s=t.split(e.modifier),i=s.shift(),s=s.join(e.modifier)),i||a||s){i||(i=r.__bem.block),t=i;var u=[];a&&(t+=e.element+a),u.push(t),s&&u.push(t+e.modifier+s),r.__bem.block=i,r.__bem.element=a,r.__bem.modifier=s,e=u}else e=t;return e}).flatten().uniq().value().join(" "))&&r.attribute("class",a),r}function i(t){var r=e("utils"),t=(" "+(t||"")+" ").replace(/\s+/g," "),i=s.get("bem.shortElementPrefix");return i&&(i=RegExp("\\s("+r.escapeForRegexp(i)+"+)","g"),t=t.replace(i,function(e,t){return" "+r.repeatString(n().element,t.length)})),r.trim(t)}function o(e,t,r){var i=n(),o=RegExp("^("+i[r]+")+","g");if(o.test(e)){for(var a=0,o=e.replace(o,function(e){return a=e.length/i[r].length,""}),s=t;s.parent&&a--;)s=s.parent;if(s&&s.__bem||(s=t),s&&s.__bem)return e=s.__bem.block,"modifier"==r&&s.__bem.element&&(e+=i.element+s.__bem.element),e+i[r]+o}return e}function a(n,i){n.name&&r(n,i);var o=e("abbreviationUtils");return t.each(n.children,function(e){a(e,i),!o.isSnippet(e)&&e.start&&(u=!0)}),n}var s=e("preferences");s.define("bem.elementSeparator","__","Class name’s element separator."),s.define("bem.modifierSeparator","_","Class name’s modifier separator."),s.define("bem.shortElementPrefix","-","Symbol for describing short “block-element” notation. Class names prefixed with this symbol will be treated as element name for parent‘s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var u=!1;e("filters").add("bem",function(t,n){return u=!1,t=a(t,n),u&&(t=e("filters").apply(t,"html",n)),t})}),i.exec(function(e,t){function n(n,r,o){var a=e("utils"),s=i.get("filter.commentTrigger");("*"==s||t.find(s.split(","),function(e){return!!n.attribute(a.trim(e))}))&&(s={node:n,name:n.name(),padding:n.parent?n.parent.padding:"",attr:function(e,t,r){return(e=n.attribute(e))?(t||"")+e+(r||""):""}},r=a.normalizeNewline(r?r(s):""),o=a.normalizeNewline(o?o(s):""),n.start=n.start.replace(/</,r+"<"),n.end=n.end.replace(/>/,">"+o))}function r(i,o,a){var s=e("abbreviationUtils");return t.each(i.children,function(e){s.isBlock(e)&&n(e,o,a),r(e,o,a)}),i}var i=e("preferences");i.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> – a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> – current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> – name of current tag</li><li><code>padding</code> – current string padding, can be used for formatting</li></ul>"),i.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),i.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),e("filters").add("c",function(e){var n=t.template(i.get("filter.commentBefore")),o=t.template(i.get("filter.commentAfter"));return r(e,n,o)})}),i.exec(function(e,t){function n(e){return e.replace(/([<>&])/g,function(e,t){return r[t]})}var r={"<":"&lt;",">":"&gt;","&":"&amp;"};e("filters").add("e",function i(e){return t.each(e.children,function(e){e.start=n(e.start),e.end=n(e.end),e.content=n(e.content),i(e)}),e})}),i.exec(function(e,t){function n(e){return e.parent&&!e.parent.parent&&!e.index()}function r(t,n){var r=e("abbreviationUtils");return n.tag_nl===!0||r.isBlock(t)?!0:t.parent&&n.inline_break?i(t.parent,n):!1}function i(n,r){var i=0,o=e("abbreviationUtils");return!!t.find(n.children,function(e){return e.isTextNode()||!o.isInline(e)?i=0:o.isInline(e)&&i++,i>=r.inline_break?!0:void 0})}function o(n,r){var o=e("abbreviationUtils");return t.any(n.children,function(e){return o.isSnippet(e)?!1:!o.isInline(e)})?!0:i(n,r)}var a=e("preferences");a.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),a.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation."),e("filters").add("_format",function s(i,u,c){var c=c||0,l=e("abbreviationUtils");return t.each(i.children,function(i){if(l.isSnippet(i))i.start=i.end="",n(i)||u.tag_nl===!1||!r(i,u)||i.parent.parent&&e("abbreviationUtils").isInline(i.parent)||(i.start=e("utils").getNewline()+i.start);else{i.start=i.end="%s";var f=e("utils"),d=e("abbreviationUtils"),p=d.isUnary(i),f=f.getNewline(),h=t.include(a.getArray("format.noIndentTags")||[],i.name())?"":e("resources").getVariable("indentation");if(u.tag_nl!==!1){var m=u.tag_nl===!0&&(u.tag_nl_leaf||i.children.length);m||(m=t.include(a.getArray("format.forceIndentationForTags")||[],i.name())),i.isTextNode()||(r(i,u)?(n(i)||d.isSnippet(i.parent)&&!i.index()||(i.start=f+i.start),(d.hasBlockChildren(i)||i.children.length&&r(i.children[0],u)||m&&!p)&&(i.end=f+i.end),(d.hasTagsInContent(i)||m&&!i.children.length&&!p)&&(i.start+=f+h)):d.isInline(i)&&i.parent&&e("abbreviationUtils").hasBlockChildren(i.parent)&&!n(i)?i.start=f+i.start:d.isInline(i)&&o(i,u)&&(i.end=f+i.end),i.padding=h)}}s(i,u,c+1)}),i})}),i.exec(function(e,t){function n(n,r){var i="",o=[],a=r.attributeQuote(),s=r.cursor();return t.each(n.attributeList(),function(t){var n=r.attributeName(t.name);switch(n.toLowerCase()){case"id":i+="#"+(t.value||s);break;case"class":i+="."+e("utils").trim(t.value||s).replace(/\s+/g,".");break;default:o.push(":"+n+" => "+a+(t.value||s)+a)}}),o.length&&(i+="{"+o.join(", ")+"}"),i}e("filters").add("haml",function r(i,o,a){var a=a||0,s=e("abbreviationUtils");return a||(i=e("filters").apply(i,"_format",o)),t.each(i.children,function(t){if(!s.isSnippet(t)&&t.parent){var i=e("abbreviationUtils"),u=e("utils"),c=n(t,o),l=o.cursor(),i=i.isUnary(t),f=o.self_closing_tag&&i?"/":"",d="",d="%"+o.tagName(t.name());"%div"==d.toLowerCase()&&c&&-1==c.indexOf("{")&&(d=""),t.end="",t.start=u.replaceSubstring(t.start,d+c+f+" ",t.start.indexOf("%s"),"%s"),!t.children.length&&!i&&(t.start+=l)}r(t,o,a+1)}),i})}),i.exec(function(e,t){function n(e,n){var r=n.attributeQuote(),i=n.cursor();return t.map(e.attributeList(),function(e){return" "+n.attributeName(e.name)+"="+r+(e.value||i)+r}).join("")}e("filters").add("html",function r(i,o,a){var a=a||0,s=e("abbreviationUtils");return a||(i=e("filters").apply(i,"_format",o)),t.each(i.children,function(t){if(!s.isSnippet(t)&&t.parent){var i=e("abbreviationUtils"),u=e("utils"),c=n(t,o),l=o.cursor(),i=i.isUnary(t),f="",d="";if(!t.isTextNode()){var p=o.tagName(t.name());i?(f="<"+p+c+o.selfClosing()+">",t.end=""):(f="<"+p+c+">",d="</"+p+">")}t.start=u.replaceSubstring(t.start,f,t.start.indexOf("%s"),"%s"),t.end=u.replaceSubstring(t.end,d,t.end.indexOf("%s"),"%s"),!t.children.length&&!i&&!~t.content.indexOf(l)&&!e("tabStops").extract(t.content).tabstops.length&&(t.start+=l)}r(t,o,a+1)}),i})}),i.exec(function(e,t){var n=/^\s+/,r=/[\n\r]/g;e("filters").add("s",function i(o){var a=e("abbreviationUtils");return t.each(o.children,function(e){a.isSnippet(e)||(e.start=e.start.replace(n,""),e.end=e.end.replace(n,"")),e.start=e.start.replace(r,""),e.end=e.end.replace(r,""),e.content=e.content.replace(r,""),i(e)}),o})}),i.exec(function(e,t){function n(e,r){return t.each(e.children,function(e){e.content&&(e.content=e.content.replace(r,"")),n(e,r)}),e}e("preferences").define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),e("filters").add("t",function(t){var r=RegExp(e("preferences").get("filter.trimRegexp"));return n(t,r)})}),i.exec(function(e,t){var n={"xsl:variable":1,"xsl:with-param":1};e("filters").add("xsl",function r(i){var o=e("abbreviationUtils");return t.each(i.children,function(e){!o.isSnippet(e)&&(e.name()||"").toLowerCase()in n&&e.children.length&&(e.start=e.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")),r(e)}),i})}),i.define("lorem",function(e,t){function n(e,t){return Math.round(Math.random()*(t-e)+e)}function r(e,r){for(var i=e.length,o=Math.min(i,r),a=[];a.length<o;){var s=n(0,i-1);t.include(a,s)||a.push(s)}return t.map(a,function(t){return e[t]})}function i(e,r){return e.length&&(e[0]=e[0].charAt(0).toUpperCase()+e[0].substring(1)),e.join(" ")+(r||(t.isString("?!...")?"?!...".charAt(n(0,4)):"?!..."[n(0,4)]))}function o(e){var r=e.length,i=0,i=r>3&&6>=r?n(0,1):r>6&&12>=r?n(0,2):n(1,4);t.each(t.range(i),function(t){t<e.length-1&&(e[t]+=",")})}var a={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ru:{common:["далеко-далеко","за","словесными","горами","в стране","гласных","и согласных","живут","рыбные","тексты"],words:["вдали","от всех","они","буквенных","домах","на берегу","семантика","большого","языкового","океана","маленький","ручеек","даль","журчит","по всей","обеспечивает","ее","всеми","необходимыми","правилами","эта","парадигматическая","страна","которой","жаренные","предложения","залетают","прямо","рот","даже","всемогущая","пунктуация","не","имеет","власти","над","рыбными","текстами","ведущими","безорфографичный","образ","жизни","однажды","одна","маленькая","строчка","рыбного","текста","имени","lorem","ipsum","решила","выйти","большой","мир","грамматики","великий","оксмокс","предупреждал","о","злых","запятых","диких","знаках","вопроса","коварных","точках","запятой","но","текст","дал","сбить","себя","толку","он","собрал","семь","своих","заглавных","букв","подпоясал","инициал","за","пояс","пустился","дорогу","взобравшись","первую","вершину","курсивных","гор","бросил","последний","взгляд","назад","силуэт","своего","родного","города","буквоград","заголовок","деревни","алфавит","подзаголовок","своего","переулка","грустный","реторический","вопрос","скатился","его","щеке","продолжил","свой","путь","дороге","встретил","рукопись","она","предупредила","моей","все","переписывается","несколько","раз","единственное","что","меня","осталось","это","приставка","возвращайся","ты","лучше","свою","безопасную","страну","послушавшись","рукописи","наш","продолжил","свой","путь","вскоре","ему","повстречался","коварный","составитель","рекламных","текстов","напоивший","языком","речью","заманивший","свое","агенство","которое","использовало","снова","снова","своих","проектах","если","переписали","то","живет","там","до","сих","пор"]}},s=e("preferences");return s.define("lorem.defaultLang","en"),e("abbreviationParser").addPreprocessor(function(e){var t,u=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i;e.findAll(function(e){if(e._name&&(t=e._name.match(u))){var c=t[2]||30,l=t[1]||s.get("lorem.defaultLang")||"en";e._name="",e.data("forceNameResolving",e.isRepeating()||e.attributeList().length),e.data("pasteOverwrites",!0),e.data("paste",function(e){var t;t=c;var s=!e;if(e=a[l]){var u=[],f=0;for(t=parseInt(t,10),s&&e.common&&(s=e.common.slice(0,t),s.length>5&&(s[4]+=","),f+=s.length,u.push(i(s,".")));t>f;)s=r(e.words,Math.min(n(3,12)*n(1,5),t-f)),f+=s.length,o(s),u.push(i(s));t=u.join(" ")}else t="";return t})}})}),{addLang:function(e,n){t.isString(n)?n={words:t.compact(n.split(" "))}:t.isArray(n)&&(n={words:n}),a[e]=n}}}),i.exec(function(e){e("actions").add("select_line",function(e){var t=e.getCurrentLineRange();return e.createSelection(t.start,t.end),!0})}),i.exec(function(e){e("resources").setVocabulary({variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:" ",newline:"\n"},css:{filters:"html",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n   |\n}","@media":"@media ${1:screen} {\n  |\n}","@f":"@font-face {\n  font-family:|;\n    src:url(|);\n}","@f+":"@font-face {\n   font-family: '${1:FontName}';\n src: url('${2:FileName}.eot');\n    src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n      url('${2:FileName}.woff') format('woff'),\n         url('${2:FileName}.ttf') format('truetype'),\n      url('${2:FileName}.svg#${1:FontName}') format('svg');\n    font-style: ${3:normal};\n  font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n ${2:from} { ${3} }${6}\n    ${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n  ${2:from} { ${3} }${6}\n    ${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n    ${2:from} { ${3} }${6}\n    ${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n ${2:from} { ${3} }${6}\n    ${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:i":"display:inline;","d:ib":"display:inline-block;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;",ols:"outline-style:|;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:|;","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:r":"transform: rotate(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:l":"word-break:loose;","wob:bs":"word-break:break-strict;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",lts:"letter-spacing:|;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!doctype html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n   ${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n    ${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n    ${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',acronym:'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:"<script>","script:src":'<script src="">',img:'<img src="" alt="" />',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:hidden":"input[type=hidden name]","input:h":"input:hidden","input:text":"inp","input:t":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:password":"inp[type=password]","input:p":"input:password","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:checkbox":"inp[type=checkbox]","input:c":"input:checkbox","input:radio":"inp[type=radio]","input:r":"input:radio","input:range":"inp[type=range]","input:file":"inp[type=file]","input:f":"input:file","input:submit":'<input type="submit" value="" />',"input:s":"input:submit","input:image":'<input type="image" src="" alt="" />',"input:i":"input:image","input:button":'<input type="button" value="" />',"input:b":"input:button",isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',option:'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',"menu:context":"menu[type=context]>","menu:c":"menu:context","menu:toolbar":"menu[type=toolbar]>","menu:t":"menu:toolbar",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>",bq:"blockquote",acr:"acronym",fig:"figure",figc:"figcaption",ifr:"iframe",emb:"embed",obj:"object",src:"source",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button","btn:b":"button[type=button]","btn:r":"button[type=reset]","btn:s":"button[type=submit]",optg:"optgroup",opt:"option",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=UTF-8]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{tm:'<xsl:template match="" mode="">',tmatch:"tm",tn:'<xsl:template name="">',tname:"tn",call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","xsl:when":'<xsl:when test="">',wh:"xsl:when",ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',each:'<xsl:for-each select="">',"for":"each",tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"}},"system")
}),i.define("shortcut",function(){var e=/mac\s+os/i.test(navigator.userAgent),t={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},n={esc:27,escape:27,tab:9,space:32,"return":13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,"break":19,insert:45,home:36,"delete":46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,plus:187,minus:189,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},r={ctrl:"⌃",control:"⌃",meta:"⌘",shift:"⇧",alt:"⌥",enter:"⏎",tab:"⇥",left:"←",right:"→",up:"↑",down:"↓"},i={meta:"Ctrl",control:"Ctrl",left:"←",right:"→",up:"↑",down:"↓"},o={SHIFT:1,CTRL:2,ALT:4,META:8};return{compile:function(t){if("string"!=typeof t)return t;for(var n,r,i=0,t=t.toLowerCase().split("+"),a=0,s=t.length;s>a;a++)r=t[a],!e&&"meta"==r&&(r="ctrl"),"ctrl"==r||"control"==r?i|=o.CTRL:"shift"==r?i|=o.SHIFT:"alt"==r?i|=o.ALT:"meta"==r?i|=o.META:n=r;return{mask:i,key:n}},test:function(e,r){var i=0,a=this.compile(e);r.ctrlKey&&(i|=o.CTRL),r.shiftKey&&(i|=o.SHIFT),r.altKey&&(i|=o.ALT),r.metaKey&&(i|=o.META);var s=r.keyCode?r.keyCode:r.which,u=String.fromCharCode(s).toLowerCase();return i!==a.mask?!1:a.key.length>1?n[a.key]==s:(188==s&&(u=","),190==s&&(u="."),191==s&&(u="/"),u==a.key?!0:r.shiftKey&&t[u]?t[u]==a.key:!1)},format:function(t){for(var n,o=e?r:i,a=e?"":"+",t=t.toLowerCase().split("+"),s=[],u=0;u<t.length;u++)n=t[u],s.push(n in o?o[n]:n.charAt().toUpperCase()+n.substring(1));return s.join(a)}}}),i.define("editor",function(e,t){var n=null,r=document.createElement("textarea");return r.value="\n",e("utils").setNewline(r.value),r=null,{setContext:function(e){n=e},getContext:function(){return n},getSelectionRange:function(){if("selectionStart"in n)return{start:n.selectionStart,end:n.selectionEnd};if(document.selection){n.focus();var e=document.selection.createRange();if(null===e)return{start:0,end:this.getContent().length};var t=n.createTextRange(),r=t.duplicate();return t.moveToBookmark(e.getBookmark()),r.setEndPoint("EndToStart",t),{start:r.text.length,end:r.text.length+e.text.length}}return null},createSelection:function(t,r){if("undefined"==typeof r&&(r=t),"setSelectionRange"in n)n.setSelectionRange(t,r);else if("createTextRange"in n){var i=n.createTextRange();i.collapse(!0);var o=e("utils"),a=o.splitByLines(this.getContent().substring(0,t)).length-1;r-=a+o.splitByLines(this.getContent().substring(t,r)).length-1,t-=a,i.moveStart("character",t),i.moveEnd("character",r-t),i.select()}},getCurrentLineRange:function(){var t=this.getCaretPos();return null===t?null:e("utils").findNewlineBounds(this.getContent(),t)},getCaretPos:function(){var e=this.getSelectionRange();return e?e.start:null},setCaretPos:function(e){this.createSelection(e)},getCurrentLine:function(){var e=this.getCurrentLineRange();return e.start<e.end?this.getContent().substring(e.start,e.end):""},replaceContent:function(r,o,a,s){var u=this.getContent(),c=e("utils");t.isUndefined(a)&&(a=t.isUndefined(o)?u.length:o),t.isUndefined(o)&&(o=0),s||(r=c.padString(r,c.getLinePaddingFromPosition(u,o))),s=i.require("tabStops").extract(r,{escape:function(e){return e}}),r=s.text,(s=s.tabstops[0])?(s.start+=o,s.end+=o):s={start:r.length+o,end:r.length+o};try{n.value=c.replaceSubstring(u,r,o,a),this.createSelection(s.start,s.end)}catch(l){}},getContent:function(){return n.value||""},getSyntax:function(){return e("actionUtils").detectSyntax(this,e("textarea").getOption("syntax"))},getProfileName:function(){var t=e("textarea").getOption("profile");return"html"==this.getSyntax()&&t?t:e("actionUtils").detectProfile(this)},prompt:function(e){return prompt(e)},getSelection:function(){var e=this.getSelectionRange();if(e)try{return this.getContent().substring(e.start,e.end)}catch(t){}return""},getFilePath:function(){return location.href}}}),i.define("textarea",function(e,t){function n(n){for(var r,i=e("editor").getContext().className||"",o=/\bemmet\-(\w+)\-(\w+)/g,s=t.extend({},a,u||{});r=o.exec(i);){var c=r[1].toLowerCase();r=r[2].toLowerCase(),"true"==r||"yes"==r||"1"==r?r=!0:("false"==r||"no"==r||"0"==r)&&(r=!1),s[c]=r}return s[n]}function r(t,n){s[t.toLowerCase()]={compiled:e("shortcut").compile(t),action:n}}function i(r){var r=r||window.event,i=r.target||r.srcElement,o=r.keyCode||r.which,a=e("editor"),u=e("shortcut");return i&&1==i.nodeType&&"TEXTAREA"==i.nodeName?~i.className.indexOf("no-emmet")?!1:(a.setContext(i),!t.find(s,function(t){if(u.test(t.compiled,r)){switch(t=t.action){case"expand_abbreviation":if(9==o){if(!n("use_tab"))return!1;t="expand_abbreviation_with_tab"}break;case"insert_formatted_line_break":if(13==o&&!n("pretty_break"))return!1}return e("actions").run(t,a),t=r,t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&(t.stopPropagation(),t.preventDefault()),!0}})):!0}var o={"Meta+E":"expand_abbreviation",Tab:"expand_abbreviation","Meta+D":"match_pair_outward","Shift+Meta+D":"match_pair_inward","Shift+Meta+A":"wrap_with_abbreviation","Ctrl+Alt+Right":"next_edit_point","Ctrl+Alt+Left":"prev_edit_point","Meta+L":"select_line","Meta+Shift+M":"merge_lines","Meta+/":"toggle_comment","Meta+J":"split_join_tag","Meta+K":"remove_tag","Shift+Meta+Y":"evaluate_math_expression","Ctrl+Up":"increment_number_by_1","Ctrl+Down":"decrement_number_by_1","Alt+Up":"increment_number_by_01","Alt+Down":"decrement_number_by_01","Ctrl+Alt+Up":"increment_number_by_10","Ctrl+Alt+Down":"decrement_number_by_10","Meta+.":"select_next_item","Meta+,":"select_previous_item","Meta+Shift+B":"reflect_css_value",Enter:"insert_formatted_line_break"},a={syntax:"html",use_tab:!1,pretty_break:!1},s={},u={},c=document;return c.addEventListener?c.addEventListener("keydown",i,!1):c.attachEvent?ele.attachEvent("onkeydown",i):c.onkeydown=func,u=t.extend({},a,{}),"undefined"!=typeof emmetKeymap&&(o=emmetKeymap),t.each(o,function(e,t){r(t,e)}),{setOptions:function(e){u=t.extend({},a,e||{})},getOption:n,addShortcut:r,unbindShortcut:function(e){e=e.toLowerCase(),e in s&&delete s[e]},getShortcuts:function(){var n=e("shortcut"),r=e("actions");return t.compact(t.map(s,function(e,i){var o=i.toLowerCase();return"tab"==o||"enter"==o?void 0:{keystroke:n.format(i),compiled:e.compiled,label:t.last((r.get(e.action).options.label||e.action).split("/")),action:e.action}}))},getInfo:function(){var e="This textareas on this page are powered by Emmet toolkit.\n\nAvailable shortcuts:\n",n=t.map(this.getShortcuts(),function(e){return e.keystroke+" — "+e.label});return e+=n.join("\n")+"\n\n",e+="More info on http://emmet.io/"},showInfo:function(){alert(this.getInfo())},setup:function(e){this.setOptions(e)}}})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\browserify\\node_modules\\process\\browser.js":[function(e,t){function n(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}a=!1}}function r(){}var i=t.exports={},o=[],a=!1;i.nextTick=function(e){o.push(e),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\UrlBuilder.js":[function(e,t){!function(e,t){"use strict";var n;e(function(e){function r(e,t){var n,r,i,o;if(n=e,i={},t){for(r in t)o=new RegExp("\\{"+r+"\\}"),o.test(n)?n=n.replace(o,encodeURIComponent(t[r]),"g"):i[r]=t[r];for(r in i)n+=-1===n.indexOf("?")?"?":"&",n+=encodeURIComponent(r),null!==i[r]&&void 0!==i[r]&&(n+="=",n+=encodeURIComponent(i[r]))}return n}function i(e,t){return 0===e.indexOf(t)}function o(e,t){return this instanceof o?void(e instanceof o?(this._template=e.template,this._params=a({},this._params,t)):(this._template=(e||"").toString(),this._params=t||{})):new o(e,t)}var a,s,u,c,l;return a=e("./util/mixin"),u=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,c=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,l=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,o.prototype={append:function(e,t){return new o(this._template+e,a({},this._params,t))},fullyQualify:function(){if(!t)return this;if(this.isFullyQualified())return this;var e=this._template;return i(e,"//")?e=s.protocol+e:i(e,"/")?e=s.origin+e:this.isAbsolute()||(e=s.origin+s.pathname.substring(0,s.pathname.lastIndexOf("/")+1)),-1===e.indexOf("/",8)&&(e+="/"),new o(e,this._params)},isAbsolute:function(){return c.test(this.build())},isFullyQualified:function(){return l.test(this.build())},isCrossOrigin:function(){if(!s)return!0;var e=this.parts();return e.protocol!==s.protocol||e.hostname!==s.hostname||e.port!==s.port},parts:function(){var e,t;return e=this.fullyQualify().build().match(u),t={href:e[0],protocol:e[1],host:e[3]||"",hostname:e[4]||"",port:e[6],pathname:e[7]||"",search:e[8]||"",hash:e[9]||""},t.origin=t.protocol+"//"+t.host,t.port=t.port||("https:"===t.protocol?"443":"http:"===t.protocol?"80":""),t},build:function(e){return r(this._template,a({},this._params,e))},toString:function(){return this.build()}},s=t?new o(t.href).parts():n,o})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\mixin.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\browser.js":[function(e,t){!function(e){"use strict";e(function(e){var t=e("./client/default"),n=e("./client/xhr");return t.setPlatformDefaultClient(n),t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./client/default":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client\\default.js","./client/xhr":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client\\xhr.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client.js":[function(e,t){!function(e){"use strict";e(function(){return function(e,t){return t&&(e.skip=function(){return t}),e.wrap=function(t,n){return t(e,n)},e.chain=function(){return"undefined"!=typeof console&&console.log("rest.js: client.chain() is deprecated, use client.wrap() instead"),e.wrap.apply(this,arguments)},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client\\default.js":[function(e,t){!function(e){"use strict";var t;e(function(e){function n(){return i.apply(t,arguments)}var r,i,o;return r=e("../client"),n.setDefaultClient=function(e){i=e},n.getDefaultClient=function(){return i},n.resetDefaultClient=function(){i=o},n.setPlatformDefaultClient=function(e){if(o)throw new Error("Unable to redefine platformDefaultClient");i=o=e},r(n)})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../client":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client\\xhr.js":[function(e,t){!function(e,t){"use strict";e(function(e){function n(e){var t={};return e?(e.trim().split(c).forEach(function(e){var n,r,i;n=e.indexOf(":"),r=a(e.substring(0,n).trim()),i=e.substring(n+1).trim(),t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}),t):t}function r(e,t){return Object.keys(t||{}).forEach(function(n){if(t.hasOwnProperty(n)&&n in e)try{e[n]=t[n]}catch(r){}}),e}var i,o,a,s,u,c;return i=e("when"),o=e("../UrlBuilder"),a=e("../util/normalizeHeaderName"),s=e("../util/responsePromise"),u=e("../client"),c=/[\r|\n]+/,u(function(e){return s.promise(function(i,a){var s,u,c,l,f,d,p,h;if(e="string"==typeof e?{path:e}:e||{},p={request:e},e.canceled)return p.error="precanceled",void a(p);if(h=e.engine||t.XMLHttpRequest,!h)return void a({request:e,error:"xhr-not-available"});f=e.entity,e.method=e.method||(f?"POST":"GET"),u=e.method,c=new o(e.path||"",e.params).build();try{s=p.raw=new h,r(s,e.mixin),s.open(u,c,!0),r(s,e.mixin),l=e.headers;for(d in l)("Content-Type"!==d||"multipart/form-data"!==l[d])&&s.setRequestHeader(d,l[d]);e.canceled=!1,e.cancel=function(){e.canceled=!0,s.abort(),a(p)},s.onreadystatechange=function(){e.canceled||s.readyState===(h.DONE||4)&&(p.status={code:s.status,text:s.statusText},p.headers=n(s.getAllResponseHeaders()),p.entity=s.responseText,p.status.code>0?i(p):setTimeout(function(){i(p)},0))};try{s.onerror=function(){p.error="loaderror",a(p)}}catch(m){}s.send(f)}catch(m){p.error="loaderror",a(p)}})})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\UrlBuilder.js","../client":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\client.js","../util/normalizeHeaderName":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\normalizeHeaderName.js","../util/responsePromise":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\responsePromise.js",when:"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\when.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\mixin.js":[function(e,t){!function(e){"use strict";e(function(){function e(e){var n,r,i,o;for(e||(e={}),n=1,r=arguments.length;r>n;n+=1){i=arguments[n];for(o in i)o in e&&(e[o]===i[o]||o in t&&t[o]===i[o])||(e[o]=i[o])}return e}var t={};return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\normalizeHeaderName.js":[function(e,t){!function(e){"use strict";e(function(){function e(e){return e.toLowerCase().split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join("-")}return e})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\responsePromise.js":[function(e,t){!function(e){"use strict";e(function(e){function t(e,t){return e.then(function(e){return e&&e[t]},function(e){return c.reject(e&&e[t])})}function n(){return t(this,"entity")}function r(){return t(t(this,"status"),"code")}function i(){return t(this,"headers")}function o(e){return e=l(e),t(this.headers(),e)}function a(e){return e=[].concat(e),s(c.reduce(e,function(e,t){if("string"==typeof t&&(t={rel:t}),"function"!=typeof e.entity.clientFor)throw new Error("Hypermedia response expected");var n=e.entity.clientFor(t.rel);return n({params:t.params})},this))}function s(e){return e.status=r,e.headers=i,e.header=o,e.entity=n,e.follow=a,e}function u(){return s(c.apply(c,arguments))}var c=e("when"),l=e("./normalizeHeaderName");return u.make=s,u.reject=function(e){return s(c.reject(e))},u.promise=function(e){return s(c.promise(e))},u})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./normalizeHeaderName":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\rest\\util\\normalizeHeaderName.js",when:"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\when.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\Promise.js":[function(e,t){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),r=e("./env").asap;return t({scheduler:new n(r)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\Scheduler.js","./env":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\env.js","./makePromise":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\makePromise.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\Scheduler.js":[function(e,t){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\TimeoutError.js":[function(e,t){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\apply.js":[function(e,t){!function(e){"use strict";e(function(){function e(e,n){function r(t,r,o){var a=e._defer(),s=o.length,u=new Array(s);return i({f:t,thisArg:r,args:o,params:u,i:s-1,call:n},a._handler),a}function i(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);var i=e._handler(t.args[t.i]);i.fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,i(e,n)}return arguments.length<2&&(n=t),r}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(i){r.reject(i)}}return e.tryCatchResolve=t,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\array.js":[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state"),n=e("../apply");return function(e){function r(t){function n(e){l=null,this.resolve(e)}function r(e){this.resolved||(l.push(e),0===--c&&this.reject(l))}for(var i,o,a=e._defer(),s=a._handler,u=t.length>>>0,c=u,l=[],f=0;u>f;++f)if(o=t[f],void 0!==o||f in t){if(i=e._handler(o),i.state()>0){s.become(i),e._visitRemaining(t,f,i);break}i.visit(s,n,r)}else--c;return 0===c&&s.reject(new RangeError("any(): array must not be empty")),a}function i(t,n){function r(e){this.resolved||(l.push(e),0===--p&&(f=null,this.resolve(l)))}function i(e){this.resolved||(f.push(e),0===--o&&(l=null,this.reject(f)))}var o,a,s,u=e._defer(),c=u._handler,l=[],f=[],d=t.length>>>0,p=0;for(s=0;d>s;++s)a=t[s],(void 0!==a||s in t)&&++p;for(n=Math.max(n,0),o=p-n+1,p=Math.min(n,p),n>p?c.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+p)):0===p&&c.resolve(l),s=0;d>s;++s)a=t[s],(void 0!==a||s in t)&&e._handler(a).visit(c,r,i,c.notify);return u}function o(t,n){return e._traverse(n,t)}function a(t,n){var r=v.call(t);return e._traverse(n,r).then(function(e){return s(r,e)})}function s(t,n){for(var r=n.length,i=new Array(r),o=0,a=0;r>o;++o)n[o]&&(i[a++]=e._handler(t[o]).value);return i.length=a,i}function u(e){return m(e.map(c))}function c(n){var r=e._handler(n);return 0===r.state()?h(n).then(t.fulfilled,t.rejected):(r._unreport(),t.inspect(r))}function l(e,t){return arguments.length>2?g.call(e,d(t),arguments[2]):g.call(e,d(t))}function f(e,t){return arguments.length>2?b.call(e,d(t),arguments[2]):b.call(e,d(t))}function d(e){return function(t,n,r){return p(e,void 0,[t,n,r])}}var p=n(e),h=e.resolve,m=e.all,g=Array.prototype.reduce,b=Array.prototype.reduceRight,v=Array.prototype.slice;return e.any=r,e.some=i,e.settle=u,e.map=o,e.filter=a,e.reduce=l,e.reduceRight=f,e.prototype.spread=function(e){return this.then(m).then(function(t){return e.apply(this,t)})},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../apply":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\apply.js","../state":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\state.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\flow.js":[function(e,t){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function i(e){return e}return function(n){function o(e,n){return function(r){return t(r,n)?e.call(this,r):c(r)}}function a(e,t,n,i){var o=e.call(t);return r(o)?s(o,n,i):n(i)}function s(e,t,n){return u(e).then(function(){return t(n)})}var u=n.resolve,c=n.reject,l=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?l.call(this,t):"function"!=typeof t?this.ensure(e):l.call(this,o(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return a(e,this,i,t)},function(t){return a(e,this,c,t)})},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\fold.js":[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\inspect.js":[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../state":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\state.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\iterate.js":[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function a(o,a){return r(i(o)).then(function(){return n(e,t,i,a)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(a)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\progress.js":[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\timed.js":[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,r,i){return n.setTimer(function(){e(r,i,t)},t)}var n=e("../env"),r=e("../TimeoutError");return function(e){function i(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function a(e,t,n){var i="undefined"==typeof e?new r("timed out after "+n+"ms"):e;t.reject(i)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(i,e,void 0,t._handler),t},e.prototype.timeout=function(e,r){var i=this._beget(),o=i._handler,s=t(a,e,r,i._handler);return this._handler.visit(o,function(e){n.clearTimer(s),this.resolve(e)},function(e){n.clearTimer(s),this.reject(e)},o.notify),i},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../TimeoutError":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\TimeoutError.js","../env":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\env.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\unhandledRejection.js":[function(e,t){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var r=e("../env").setTimer,i=e("../format");return function(e){function o(e){e.handled||(p.push(e),l("Potentially unhandled rejection ["+e.id+"] "+i.formatError(e.value)))}function a(e){var t=p.indexOf(e);t>=0&&(p.splice(t,1),f("Handled previous rejection ["+e.id+"] "+i.formatObject(e.value)))}function s(e,t){d.push(e,t),null===h&&(h=r(u,0))}function u(){for(h=null;d.length>0;)d.shift()(d.shift())}var c,l=n,f=n;"undefined"!=typeof console&&(c=console,l="undefined"!=typeof c.error?function(e){c.error(e)}:function(e){c.log(e)},f="undefined"!=typeof c.info?function(e){c.info(e)}:function(e){c.log(e)}),e.onPotentiallyUnhandledRejection=function(e){s(o,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){s(a,e)},e.onFatalRejection=function(e){s(t,e.value)};var d=[],p=[],h=null;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../env":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\env.js","../format":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\format.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\with.js":[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\env.js":[function(e,t){(function(n){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof n&&null!==n&&"function"==typeof n.nextTick}function r(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function i(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var o,a="undefined"!=typeof setTimeout&&setTimeout,s=function(e,t){return setTimeout(e,t)},u=function(e){return clearTimeout(e)},c=function(e){return a(e,0)};if(t())c=function(e){return n.nextTick(e)};else if(o=r())c=i(o);else if(!a){var l=e,f=l("vertx");s=function(e,t){return f.setTimer(t,e)},u=f.cancelTimer,c=f.runOnLoop||f.runOnContext}return{setTimer:s,clearTimer:u,asap:c}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\browserify\\node_modules\\process\\browser.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\format.js":[function(e,t){!function(e){"use strict";e(function(){function e(e){var n="object"==typeof e&&null!==e&&e.stack?e.stack:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\makePromise.js":[function(e,t){(function(e){!function(t){"use strict";t(function(){return function(t){function n(e,t){this._handler=e===x?t:r(e)}function r(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new k;try{e(t,n,r)}catch(o){n(o)}return i}function i(e){return L(e)?e:new n(x,new _(b(e)))}function o(e){return new n(x,new _(new $(e)))}function a(){return et}function s(){return new n(x,new k)}function u(e,t){var n=new k(e.receiver,e.join().context);return new t(x,n)}function c(e){return f(H,null,e)}function l(e,t){return f(I,e,t)}function f(e,t,r){function i(n,i,a){a.resolved||d(r,o,n,e(t,i,n),a)}function o(e,t,n){l[e]=t,0===--c&&n.become(new S(l))}for(var a,s="function"==typeof t?i:o,u=new k,c=r.length>>>0,l=new Array(c),f=0;f<r.length&&!u.resolved;++f)a=r[f],void 0!==a||f in r?d(r,s,f,a,u):--c;return 0===c&&u.become(new S(l)),new n(x,u)}function d(e,t,n,r,i){if(N(r)){var o=v(r),a=o.state();0===a?o.fold(t,n,void 0,i):a>0?t(n,o.value,i):(i.become(o),p(e,n+1,o))}else t(n,r,i)}function p(e,t,n){for(var r=t;r<e.length;++r)h(b(e[r]),n)}function h(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function m(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?a():1===e.length?i(e[0]):g(e)}function g(e){var t,r,i,o=new k;for(t=0;t<e.length;++t)if(r=e[t],void 0!==r||t in e){if(i=b(r),0!==i.state()){o.become(i),p(e,t+1,i);break}i.visit(o,o.resolve,o.reject)}return new n(x,o)}function b(e){return L(e)?e._handler.join():N(e)?y(e):new S(e)}function v(e){return L(e)?e._handler.join():y(e)}function y(e){try{var t=e.then;return"function"==typeof t?new C(t,e):new S(e)}catch(n){return new $(n)}}function x(){}function w(){}function k(e,t){n.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function _(e){this.handler=e}function C(e,t){k.call(this),G.enqueue(new R(e,t,this))}function S(e){n.createContext(this),this.value=e}function $(e){n.createContext(this),this.id=++J,this.value=e,this.handled=!1,this.reported=!1,this._report()}function j(e,t){this.rejection=e,this.context=t}function T(e){this.rejection=e}function A(){return new $(new TypeError("Promise cycle"))}function P(e,t){this.continuation=e,this.handler=t}function U(e,t){this.handler=t,this.value=e}function R(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function E(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function z(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=K,this.receiver=this}function L(e){return e instanceof n}function N(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function D(e,t,r,i){return"function"!=typeof e?i.become(t):(n.enterContext(t),M(e,t.value,r,i),void n.exitContext())}function q(e,t,r,i,o){return"function"!=typeof e?o.become(r):(n.enterContext(r),F(e,t,r.value,i,o),void n.exitContext())}function O(e,t,r,i,o){return"function"!=typeof e?o.notify(t):(n.enterContext(r),B(e,t,i,o),void n.exitContext())}function I(e,t,n){try{return e(t,n)}catch(r){return o(r)}}function M(e,t,n,r){try{r.become(b(e.call(n,t)))}catch(i){r.become(new $(i))}}function F(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new $(o))}}function B(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function V(e,t){t.prototype=Y(e.prototype),t.prototype.constructor=t}function H(e,t){return t}function W(){}function Q(){return"undefined"!=typeof e&&null!==e&&"function"==typeof e.emit?function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)
}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var r=!1;try{var i=new n("unhandledRejection");r=i instanceof n}catch(o){}return r?function(e,r){var i=new n(e,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!t.dispatchEvent(i)}:e}(W,self,CustomEvent):W}var G=t.scheduler,X=Q(),Y=Object.create||function(e){function t(){}return t.prototype=e,new t};n.resolve=i,n.reject=o,n.never=a,n._defer=s,n._handler=b,n.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&0>i)return new this.constructor(x,r);var o=this._beget(),a=o._handler;return r.chain(a,r.receiver,e,t,n),o},n.prototype["catch"]=function(e){return this.then(void 0,e)},n.prototype._beget=function(){return u(this._handler,this.constructor)},n.all=c,n.race=m,n._traverse=l,n._visitRemaining=p,x.prototype.when=x.prototype.become=x.prototype.notify=x.prototype.fail=x.prototype._unreport=x.prototype._report=W,x.prototype._state=0,x.prototype.state=function(){return this._state},x.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},x.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},x.prototype.visit=function(e,t,n,r){this.chain(K,e,t,n,r)},x.prototype.fold=function(e,t,n,r){this.when(new z(e,t,n,r))},V(x,w),w.prototype.become=function(e){e.fail()};var K=new w;V(x,k),k.prototype._state=0,k.prototype.resolve=function(e){this.become(b(e))},k.prototype.reject=function(e){this.resolved||this.become(new $(e))},k.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=A();return e},k.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},k.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&G.enqueue(this),void 0!==this.context&&e._report(this.context))},k.prototype.when=function(e){this.resolved?G.enqueue(new P(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},k.prototype.notify=function(e){this.resolved||G.enqueue(new U(e,this))},k.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},k.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},k.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},V(x,_),_.prototype.when=function(e){G.enqueue(new P(e,this))},_.prototype._report=function(e){this.join()._report(e)},_.prototype._unreport=function(){this.join()._unreport()},V(k,C),V(x,S),S.prototype._state=1,S.prototype.fold=function(e,t,n,r){q(e,t,this,n,r)},S.prototype.when=function(e){D(e.fulfilled,this,e.receiver,e.resolver)};var J=0;V(x,$),$.prototype._state=-1,$.prototype.fold=function(e,t,n,r){r.become(this)},$.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),D(e.rejected,this,e.receiver,e.resolver)},$.prototype._report=function(e){G.afterQueue(new j(this,e))},$.prototype._unreport=function(){this.handled||(this.handled=!0,G.afterQueue(new T(this)))},$.prototype.fail=function(e){this.reported=!0,X("unhandledRejection",this),n.onFatalRejection(this,void 0===e?this.context:e)},j.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},T.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=W;var Z=new x,et=new n(x,Z);return P.prototype.run=function(){this.handler.join().when(this.continuation)},U.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],O(t.progress,this.value,this.handler,t.receiver,t.resolver)},R.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;E(this._then,this.thenable,e,t,n)},z.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},z.prototype.rejected=function(e){this.to.reject(e)},z.prototype.progress=function(e){this.to.notify(e)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})}).call(this,e("_process"))},{_process:"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\browserify\\node_modules\\process\\browser.js"}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\state.js":[function(e,t){!function(e){"use strict";e(function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}function r(r){var i=r.state();return 0===i?e():i>0?n(r.value):t(r.value)}return{pending:e,fulfilled:n,rejected:t,inspect:r}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\when.js":[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,n,r){var i=_.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function n(e){return new _(e)}function r(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);n>t;++t)r[t]=arguments[t];return C(e,this,r)}}function i(e){for(var t=0,n=arguments.length-1,r=new Array(n);n>t;++t)r[t]=arguments[t+1];return C(e,this,r)}function o(){return new a}function a(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=_._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function s(e){return e&&"function"==typeof e.then}function u(){return _.all(arguments)}function c(e){return t(e,_.all)}function l(e){return t(e,_.settle)}function f(e,n){return t(e,function(e){return _.map(e,n)})}function d(e,n){return t(e,function(e){return _.filter(e,n)})}var p=e("./lib/decorators/timed"),h=e("./lib/decorators/array"),m=e("./lib/decorators/flow"),g=e("./lib/decorators/fold"),b=e("./lib/decorators/inspect"),v=e("./lib/decorators/iterate"),y=e("./lib/decorators/progress"),x=e("./lib/decorators/with"),w=e("./lib/decorators/unhandledRejection"),k=e("./lib/TimeoutError"),_=[h,m,g,v,y,b,x,p,w].reduce(function(e,t){return t(e)},e("./lib/Promise")),C=e("./lib/apply")(_);return t.promise=n,t.resolve=_.resolve,t.reject=_.reject,t.lift=r,t["try"]=i,t.attempt=i,t.iterate=_.iterate,t.unfold=_.unfold,t.join=u,t.all=c,t.settle=l,t.any=r(_.any),t.some=r(_.some),t.race=r(_.race),t.map=f,t.filter=d,t.reduce=r(_.reduce),t.reduceRight=r(_.reduceRight),t.isPromiseLike=s,t.Promise=_,t.defer=o,t.TimeoutError=k,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./lib/Promise":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\Promise.js","./lib/TimeoutError":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\TimeoutError.js","./lib/apply":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\apply.js","./lib/decorators/array":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\array.js","./lib/decorators/flow":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\flow.js","./lib/decorators/fold":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\fold.js","./lib/decorators/inspect":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\inspect.js","./lib/decorators/iterate":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\iterate.js","./lib/decorators/progress":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\progress.js","./lib/decorators/timed":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\timed.js","./lib/decorators/unhandledRejection":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\unhandledRejection.js","./lib/decorators/with":"C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\node_modules\\when\\lib\\decorators\\with.js"}]},{},["C:\\Users\\rlucha-sportmaniacs\\Desktop\\@rlucha\\nmss\\doc\\js\\doc.js"]);